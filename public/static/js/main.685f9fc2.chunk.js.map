{"version":3,"sources":["components/resize.svg","components/rotate.svg","components/image.svg","components/text.svg","components/CardSet.module.css","actions.ts","requests.ts","workerController.ts","storage.ts","fontLoader.tsx","sagas.ts","reducers.ts","components/KawaiiMessage.tsx","AboutPage.tsx","components/ColorButton.tsx","components/FontSelector.tsx","components/FieldController.tsx","components/ImageField.tsx","components/ImageSelectionDialog.tsx","components/ContentEditable.tsx","components/TextField.tsx","components/Card.tsx","components/Loader.tsx","components/CardSet.tsx","CardSetPage.tsx","ChangelogPage.tsx","ErrorBoundry.tsx","components/CardSets.tsx","GamePage.tsx","components/Login.tsx","LoginPage.tsx","components/Games.tsx","Main.tsx","selectors.ts","components/Logout.tsx","components/Navbar.tsx","NotFoundPage.tsx","components/SignUp.tsx","SignUpPage.tsx","App.tsx","serviceWorker.ts","index.tsx","store.ts","components/FieldController.module.css","components/Card.module.css","components/Loader.module.css","components/Navbar.module.css","components/FontSelector.module.css"],"names":["module","exports","__webpack_require__","p","cardset","INIT_REQUEST","MESSAGE_DISPLAY","MESSAGE_HIDE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT_REQUEST","LOGOUT_FAILURE","LOGOUT_SUCCESS","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_FAILURE","GAME_CREATE_REQUEST","GAME_CREATE_SUCCESS","GAME_CREATE_FAILURE","GAME_LIST_SUCCESS","GAME_LIST_REQUEST","GAME_LIST_FAILURE","GAME_LIST_RESET","GAME_SELECT_REQUEST","GAME_SELECT_SUCCESS","GAME_SELECT_FAILURE","GAME_CREATE_PDF_REQUEST","GAME_CREATE_PDF_SUCCESS","GAME_CREATE_PDF_FAILURE","CARDSET_CREATE_REQUEST","CARDSET_CREATE_SUCCESS","CARDSET_CREATE_FAILURE","CARDSET_LIST_SUCCESS","CARDSET_LIST_REQUEST","CARDSET_LIST_FAILURE","CARDSET_LIST_RESET","CARDSET_SELECT_REQUEST","CARDSET_SELECT_SUCCESS","CARDSET_CREATE_CARD","CARDSET_CLONE_CARD","CARDSET_REMOVE_CARD","CARDSET_UPDATE_CARD_COUNT","CARDSET_ADD_TEXT_PLACEHOLDER","CARDSET_ADD_IMAGE_PLACEHOLDER","CARDSET_REMOVE_ACTIVE_PLACEHOLDER","CARDSET_CHANGE_WIDTH","CARDSET_CHANGE_HEIGHT","CARDSET_CHANGE_PLACEHOLDER_POSITION","CARDSET_CHANGE_PLACEHOLDER_SIZE","CARDSET_CHANGE_PLACEHOLDER_ANGLE","CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_ALIGN","CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_COLOR","CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY","CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_VARIANT","CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY_AND_VARIANT","CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_SIZE","CARDSET_CHANGE_TEXT","CARDSET_CHANGE_IMAGE","CARDSET_SET_ACTIVE_CARD_AND_PLACEHOLDER","CARDSET_UPDATE_DATA_REQUEST","CARDSET_UPDATE_DATA_SUCCESS","CARDSET_UPDATE_DATA_FAILURE","CARDSET_SELECT_FAILURE","IMAGE_LIST_REQUEST","IMAGE_LIST_SUCCESS","IMAGE_LIST_FAILURE","messageRequest","type","text","message","id","shortid","generate","gameCreateRequest","gamename","gameSelectRequest","updateCardSets","gameCreatePdfRequest","pageWidth","pageHeight","topBottomMargin","leftRightMargin","cardSetCreateRequest","cardsetname","width","height","gameId","cardSetCreateCard","card","cardSetCloneCard","cardSetRemoveCard","cardSetUpdateCardCount","count","cardSetAddTextPlaceholder","cardSetAddImagePlaceholder","cardSetRemoveActivePlaceholder","cardSetChangeWidth","cardSetChangeHeight","cardSetChangePlaceholderPosition","placeholder","x","y","cardSetChangePlaceholderSize","cardSetChangePlaceholderAngle","angle","cardSetChangeActiveTextPlaceholderAlign","align","cardSetChangeActiveTextPlaceholderColor","color","cardSetChangeActiveTextPlaceholderFontVariant","fontVariant","cardSetChangeActiveTextPlaceholderFontFamilyAndVariant","fontFamily","cardSetChangeActiveTextPlaceholderFontSize","fontSize","cardSetChangeText","cardId","placeholderId","textInfo","cardSetChangeImage","imageInfo","cardSetActiveCardAndPlaceholder","imageListRequest","filter","handleAxiosError","error","response","Error","data","request","console","log","getTokens","creds","axios","post","then","resp","catch","refreshToken","refreshTokenValue","config","headers","Authorization","concat","accessToken","deleteAccessToken","token","delete","status","deleteRefreshToken","registerUser","getRequest","url","get","postRequest","putRequest","put","generatePdfUsingWorker","cardsAllIds","cardsById","placeholders","texts","images","window","Worker","Promise","resolve","reject","worker","addEventListener","event","blobURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","removeChild","setTimeout","URL","revokeObjectURL","postMessage","e","saveTokens","localStorage","setItem","saveAccessToken","cleanTokens","removeItem","getTokenFromStorage","getItem","getRefreshTokenFromStorage","DEFAULT_FONT_SIZE","loadFontsUsedInPlaceholders","fontsToLoad","Set","plId","add","pl","fontToLoad","WebFont","load","Object","objectSpread","active","inactive","webFontsLoadPromise","google","families","toConsumableArray","Array","from","putError","handleMessageDisplay","getToken","handleLoginRequest","handleLoginSuccess","logoutToken","logoutRefreshToken","handleLogoutRequest","handleSignupRequest","handleInitRequest","authorizedGetRequest","authorizedPostRequest","authorizedPutRequest","handleGameCreateRequest","handleGameListRequest","handleGameSelectRequest","handleGameCreatePdfRequest","handleCardSetCreateRequest","handleCardSetSelectRequest","handleCardSetChange","handleImageListRequest","rootSaga","regenerator_default","a","wrap","_context","prev","next","stop","_marked","action","_context2","call","delay","_marked2","validateToken","jwtDecode","exp","Date","getTime","withErrorIfMissing","newToken","_context3","sent","abrupt","_marked3","_context4","t0","_marked4","_context5","_marked5","_context6","_marked6","_context7","_marked7","_context8","_marked8","_context9","_marked9","_context10","_marked10","_context11","_marked11","_context12","_marked12","_context13","_marked13","_context14","name","_marked14","allIds","byId","_context15","games","map","g","reduce","obj","_marked15","_context16","cardsets","_marked16","state","_context17","select","_marked17","_context18","JSON","stringify","_marked18","parsedData","_context19","parse","_marked19","cardsetId","_context20","_marked20","_context21","_marked21","_context22","all","takeEvery","takeLatest","_marked22","ACTIVITY_CREATING","ACTIVITY_LISTING","ACTIVITY_SELECTING","ACTIVITY_CREATING_PDF","ACTIVITY_UPDATING","DefaultMessageState","messages","DefaultAuthState","isAuthenticated","user","DefaultSignUpState","signingup","DefaultGameState","activity","DefaultCardSetState","activeCard","activePlaceholder","textSettings","DefaultImageState","reducers","combineReducers","arguments","length","undefined","assign","m","auth","username","signup","defineProperty","newCard","index","indexOf","slice","textPlaceholder","imagePlaceholder","placeholderTexts","placeholderImages","placeholdersByCard","Character","AboutPage","react_default","Component","ColorButton","displayColorPicker","handleClick","_this","setState","handleClose","handleChange","selection","getSelection","range","getRangeAt","rangeCount","collapsed","dispatch","props","hex","execCommand","Fragment","onClick","this","title","className","position","zIndex","top","right","bottom","left","react_color_lib","disableAlpha","onChange","connect","options","keys","webfonts","sort","fi","value","label","FontSelector","getFontStringForLoad","family","variant","stringForLoad","selectedOption","activeFontVariant","wf","handleFontVariantChange","activeFont","handleFontSizeChange","parseFloat","target","_this2","selectedFontFamily","find","f","fontVariantOptions","fv","selectedFontVariant","activeFontSize","react_select_esm","classNamePrefix","FieldController","classCallCheck","possibleConstructorReturn","getPrototypeOf","moving","cDiv","resizeDiv","rotateDiv","relX","relY","startX","startY","originalW","originalH","rotatedPointX","rotatedPointY","centerX","centerY","originalAngle","currentAngle","rotateVec","sinA","Math","sin","cosA","cos","rx","ry","handleBrowserDragStart","stopPropagation","preventDefault","handleMouseDown","handleDragStart","handleMouseMove","handleMouseUp","handleTouchStart","changedTouches","handleTouchMove","passive","handleTouchEnd","co","current","clientX","offsetLeft","clientY","offsetTop","handleComplete","removeEventListener","onDrag","handleDragMove","handleResizeMouseDown","handleResizeStart","handleResizeMouseMove","handleResizeMouseUp","handleResizeTouchStart","handleResizeTouchMove","handleResizeTouchEnd","clientWidth","clientHeight","dx","dy","_this$rotateVec","handleResizeComplete","_this$cDiv$current","onResize","handleResizeMove","vx","vy","_this$rotateVec2","w","h","rotatedV","nx","ny","handleRotateMouseDown","handleRotateStart","handleRotateMouseMove","handleRotateMouseUp","handleRotateTouchStart","handleRotateTouchMove","handleRotateTouchEnd","rect","getBoundingClientRect","atan2","handleRotateComplete","onRotate","handleRotateMove","transform","React","createRef","_this$props","children","isActive","isActivePlaceholder","ref","fieldcontroller","fieldcontrolleractiveplaceholder","fieldcontrolleractive","cursor","src","resize","alt","controller","rotate","ImageField","imageDiv","wasMoved","handleDrag","ppmm","handleResize","_this$props2","handleRotate","_this$props3","_this$props4","_this$props5","imageUrl","components_FieldController","opacity","emptyImageImage","PureComponent","customStyles","content","marginRight","ImageSelectionDialog","componentWillMount","Modal","setAppElement","onClose","handleFilterChange","handleImageSelect","imageName","ii","react_modal_lib_default","isOpen","onRequestClose","contentLabel","im","key","ContentEditable","editDiv","currentText","currentAlign","currentColor","currentFontFamily","currentFontVariant","currentFontSize","timeout","handleStart","handleMove","focus","onFocus","textValue","createRange","selectNodeContents","collapse","removeAllRanges","addRange","updateContent","timeoutInMiliseconds","innerHTML","replace","clearTimeout","handleBlur","handleInput","nextProps","isItalic","fontWeight","parseInt","contentEditable","onBlur","onInput","textAlign","DEFAULT_FONT","fontStyle","outline","overflowWrap","lineHeight","dangerouslySetInnerHTML","__html","TextField","emptyTextImage","components_ContentEditable","Card","dimensions","imageSelectionDialogIsOpen","handleRemoveCardClick","handleCloneCardClick","handleCountChange","handleAddTextClick","handleAddImageClick","handleRemoveClick","handleChangeImage","handleImageSelectionDialogClose","handleSetTextAlignLeft","handleSetTextAlignCenter","handleSetTextAlignRight","handleFieldDeselect","getAttribute","_this$props6","imageSelected","index_esm","client","contentRect","_ref","measureRef","cardWorkarea","overflow","onMouseDown","onTouchStart","values","components_ImageField","components_TextField","toString","components_ColorButton","src_components_FontSelector","disabled","components_ImageSelectionDialog","KawaiiMessage","character","mood","padding","borderRadius","backgroundColor","grid","Ghost","size","Browser","marginLeft","Loader","fixed","loader","relative","CardSet","_Component","_getPrototypeOf2","_len","args","_key","apply","handleCreateCardClick","handleGeneratePdfClick","_this$state","handleWidthChange","handleHeightChange","handlePageWidthChange","handlePageHeightChange","handleTopBottomMarginChange","handleLeftRightMarginChange","inherits","createClass","isCreatingPdf","Loader_Loader","KawaiiMessage_KawaiiMessage","htmlFor","min","step","gridTemplateColumns","components_Card","CardSetPage","match","params","components_CardSet","ChangelogPage","ErrorBoundary","hasError","CardSets","cardSetName","handleCreateCardSetClick","activeGame","trim","cardsetItems","Link","to","GamePage","components_CardSets","Login","password","handleUsernameChange","handlePasswordChange","handleSubmit","onLogin","onLoginFailure","onSubmit","LoginPage","Login_Login","loginRequest","msg","Redirect","Games","gameName","handleCreateGameClick","gameItems","game","Main","components_Games","getActiveGame","getActiveCardSet","Logout","onLogout","Navbar","activeCardSet","header","menu","components_Logout","NotFoundPage","SignUp","passwordRepeat","handlePasswordRepeatChange","onSignUp","SignUpPage","components_SignUp","signupRequest","App","BrowserRouter","ErrorBoundry_ErrorBoundary","components_Navbar","Switch","Route","exact","path","component","getFullYear","Boolean","location","hostname","store","sagaMiddleware","createSagaMiddleware","createStore","__REDUX_DEVTOOLS_EXTENSION__","compose","applyMiddleware","run","createAppStore","ReactDOM","render","es","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.685f9fc2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/resize.c1974254.svg\";","module.exports = __webpack_public_path__ + \"static/media/rotate.f3e2a3bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/image.60f0926c.svg\";","module.exports = __webpack_public_path__ + \"static/media/text.f7f9443c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardset\":\"CardSet_cardset__21qjI\"};","import shortid from 'shortid';\nimport { Dispatch as ReduxDispatch } from 'redux';\n\nexport const INIT_REQUEST = 'INIT_REQUEST';\nexport const MESSAGE_DISPLAY = 'MESSAGE_DISPLAY';\nexport const MESSAGE_HIDE = 'MESSAGE_HIDE';\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\nexport const LOGOUT_REQUEST = 'LOGOUT_REQUEST';\nexport const LOGOUT_FAILURE = 'LOGOUT_FAILURE';\nexport const LOGOUT_SUCCESS = 'LOGOUT_SUCCESS';\nexport const SIGNUP_REQUEST = 'SIGNUP_REQUEST';\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\nexport const SIGNUP_FAILURE = 'SIGNUP_FAILURE';\nexport const GAME_CREATE_REQUEST = 'GAME_CREATE_REQUEST';\nexport const GAME_CREATE_SUCCESS = 'GAME_CREATE_SUCCESS';\nexport const GAME_CREATE_FAILURE = 'GAME_CREATE_FAILURE';\nexport const GAME_LIST_SUCCESS = 'GAME_LIST_SUCCESS';\nexport const GAME_LIST_REQUEST = 'GAME_LIST_REQUEST';\nexport const GAME_LIST_FAILURE = 'GAME_LIST_FAILURE';\nexport const GAME_LIST_RESET = 'GAME_LIST_RESET';\nexport const GAME_SELECT_REQUEST = 'GAME_SELECT_REQUEST';\nexport const GAME_SELECT_SUCCESS = 'GAME_SELECT_SUCCESS';\nexport const GAME_SELECT_FAILURE = 'GAME_SELECT_FAILURE';\nexport const GAME_CREATE_PDF_REQUEST = 'GAME_CREATE_PDF_REQUEST';\nexport const GAME_CREATE_PDF_SUCCESS = 'GAME_CREATE_PDF_SUCCESS';\nexport const GAME_CREATE_PDF_FAILURE = 'GAME_CREATE_PDF_FAILURE';\nexport const CARDSET_CREATE_REQUEST = 'CARDSET_CREATE_REQUEST';\nexport const CARDSET_CREATE_SUCCESS = 'CARDSET_CREATE_SUCCESS';\nexport const CARDSET_CREATE_FAILURE = 'CARDSET_CREATE_FAILURE';\nexport const CARDSET_LIST_SUCCESS = 'CARDSET_LIST_SUCCESS';\nexport const CARDSET_LIST_REQUEST = 'CARDSET_LIST_REQUEST';\nexport const CARDSET_LIST_FAILURE = 'CARDSET_LIST_FAILURE';\nexport const CARDSET_LIST_RESET = 'CARDSET_LIST_RESET';\nexport const CARDSET_SELECT_REQUEST = 'CARDSET_SELECT_REQUEST';\nexport const CARDSET_SELECT_SUCCESS = 'CARDSET_SELECT_SUCCESS';\nexport const CARDSET_CREATE_CARD = 'CARDSET_CREATE_CARD';\nexport const CARDSET_CLONE_CARD = 'CARDSET_CLONE_CARD';\nexport const CARDSET_REMOVE_CARD = 'CARDSET_REMOVE_CARD';\nexport const CARDSET_UPDATE_CARD_COUNT = 'CARDSET_UPDATE_CARD_COUNT';\nexport const CARDSET_ADD_TEXT_PLACEHOLDER = 'CARDSET_ADD_TEXT_PLACEHOLDER';\nexport const CARDSET_ADD_IMAGE_PLACEHOLDER = 'CARDSET_ADD_IMAGE_PLACEHOLDER';\nexport const CARDSET_REMOVE_ACTIVE_PLACEHOLDER = 'CARDSET_REMOVE_ACTIVE_PLACEHOLDER';\nexport const CARDSET_CHANGE_WIDTH = 'CARDSET_CHANGE_WIDTH';\nexport const CARDSET_CHANGE_HEIGHT = 'CARDSET_CHANGE_HEIGHT';\nexport const CARDSET_CHANGE_PLACEHOLDER_POSITION = 'CARDSET_CHANGE_PLACEHOLDER_POSITION';\nexport const CARDSET_CHANGE_PLACEHOLDER_SIZE = 'CARDSET_CHANGE_PLACEHOLDER_SIZE';\nexport const CARDSET_CHANGE_PLACEHOLDER_ANGLE = 'CARDSET_CHANGE_PLACEHOLDER_ANGLE';\nexport const CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_ALIGN = 'CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_ALIGN';\nexport const CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_COLOR = 'CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_COLOR';\nexport const CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY = 'CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY';\nexport const CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_VARIANT =\n    'CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_VARIANT';\nexport const CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY_AND_VARIANT =\n    'CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY_AND_VARIANT';\nexport const CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_SIZE = 'CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_SIZE';\nexport const CARDSET_CHANGE_TEXT = 'CARDSET_CHANGE_TEXT';\nexport const CARDSET_CHANGE_IMAGE = 'CARDSET_CHANGE_IMAGE';\nexport const CARDSET_SET_ACTIVE_CARD_AND_PLACEHOLDER = 'CARDSET_SET_ACTIVE_CARD_AND_PLACEHOLDER';\nexport const CARDSET_UPDATE_DATA_REQUEST = 'CARDSET_UPDATE_DATA_REQUEST';\nexport const CARDSET_UPDATE_DATA_SUCCESS = 'CARDSET_UPDATE_DATA_SUCCESS';\nexport const CARDSET_UPDATE_DATA_FAILURE = 'CARDSET_UPDATE_DATA_FAILURE';\nexport const CARDSET_SELECT_FAILURE = 'CARDSET_SELECT_FAILURE';\nexport const IMAGE_LIST_REQUEST = 'IMAGE_LIST_REQUEST';\nexport const IMAGE_LIST_SUCCESS = 'IMAGE_LIST_SUCCESS';\nexport const IMAGE_LIST_FAILURE = 'IMAGE_LIST_FAILURE';\n\n// Data types\n\nexport type IdsArray = string[];\n\nexport interface MessageType {\n    id: string;\n    type: string;\n    text: string;\n}\n\nexport interface GameType {\n    id: string;\n    name: string;\n}\n\nexport interface GamesCollection {\n    [propName: string]: GameType;\n}\n\nexport interface TextPlaceholderType {\n    id: string;\n    type: 'text';\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    angle: number;\n    align: string;\n    color: string;\n    fontFamily: string;\n    fontVariant: string;\n    fontSize: number;\n}\n\nexport interface ImagePlaceholderType {\n    id: string;\n    type: 'image';\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    angle: number;\n}\n\nexport type PlaceholderType = TextPlaceholderType | ImagePlaceholderType;\n\nexport interface PlaceholdersCollection {\n    [propName: string]: PlaceholderType;\n}\n\nexport interface TextInfo {\n    value: string;\n}\n\nexport interface PlaceholdersTextInfoCollection {\n    [propName: string]: TextInfo;\n}\n\nexport interface PlaceholdersTextInfoByCardCollection {\n    [propName: string]: PlaceholdersTextInfoCollection;\n}\n\nexport interface ImageInfo {\n    url: string;\n}\n\nexport interface PlaceholdersImageInfoCollection {\n    [propName: string]: ImageInfo;\n}\n\nexport interface PlaceholdersImageInfoByCardCollection {\n    [propName: string]: PlaceholdersImageInfoCollection;\n}\n\nexport interface CardType {\n    id: string;\n    count: number;\n}\n\nexport interface CardsCollection {\n    [propName: string]: CardType;\n}\n\nexport interface CardSetType {\n    id: string;\n    name: string;\n}\n\nexport interface CardSetsCollection {\n    [propName: string]: CardSetType;\n}\n\nexport interface Credentials {\n    username: string;\n    password: string;\n}\n\nexport interface Image {\n    id: number;\n    name: string;\n}\n\nexport type ImageArray = Image[];\n\n// Actions\n\nexport interface InitAction {\n    type: typeof INIT_REQUEST;\n}\n\nexport type MessageAction =\n    | { type: typeof MESSAGE_DISPLAY; message: MessageType }\n    | { type: typeof MESSAGE_HIDE; message: MessageType };\n\nexport interface LoginRequest {\n    type: typeof LOGIN_REQUEST;\n    creds: Credentials;\n}\nexport type LoginAction =\n    | LoginRequest\n    | { type: typeof LOGIN_SUCCESS }\n    | { type: typeof LOGIN_FAILURE; message: string }\n    | { type: typeof LOGOUT_REQUEST }\n    | { type: typeof LOGOUT_FAILURE }\n    | { type: typeof LOGOUT_SUCCESS };\n\nexport interface SignUpRequest {\n    type: typeof SIGNUP_REQUEST;\n    creds: Credentials;\n}\nexport type SignUpAction = SignUpRequest | { type: typeof SIGNUP_SUCCESS } | { type: typeof SIGNUP_FAILURE };\n\nexport interface GameCreateRequest {\n    type: typeof GAME_CREATE_REQUEST;\n    gamename: string;\n}\nexport type GameCreateAction =\n    | GameCreateRequest\n    | { type: typeof GAME_CREATE_SUCCESS }\n    | { type: typeof GAME_CREATE_FAILURE };\n\nexport interface GameListSuccess {\n    type: typeof GAME_LIST_SUCCESS;\n    byId: GamesCollection;\n    allIds: IdsArray;\n}\nexport type GameListAction =\n    | { type: typeof GAME_LIST_REQUEST }\n    | GameListSuccess\n    | { type: typeof GAME_LIST_FAILURE }\n    | { type: typeof GAME_LIST_RESET };\n\nexport interface GameSelectRequest {\n    type: typeof GAME_SELECT_REQUEST;\n    id: string;\n    updateCardSets: boolean;\n}\nexport type GameSelectAction =\n    | GameSelectRequest\n    | { type: typeof GAME_SELECT_SUCCESS; id: string }\n    | { type: typeof GAME_SELECT_FAILURE };\n\nexport interface GameCreatePdfRequest {\n    type: typeof GAME_CREATE_PDF_REQUEST;\n    pageWidth: number;\n    pageHeight: number;\n    topBottomMargin: number;\n    leftRightMargin: number;\n}\n\nexport type GameCreatePdfAction =\n    | GameCreatePdfRequest\n    | { type: typeof GAME_CREATE_PDF_SUCCESS }\n    | { type: typeof GAME_CREATE_PDF_FAILURE };\n\nexport type GameAction = GameCreateAction | GameListAction | GameSelectAction | GameCreatePdfAction;\n\nexport interface CardSetCreateRequest {\n    type: typeof CARDSET_CREATE_REQUEST;\n    cardsetname: string;\n    width: number;\n    height: number;\n    gameId: string;\n}\nexport type CardSetCreateAction =\n    | CardSetCreateRequest\n    | { type: typeof CARDSET_CREATE_SUCCESS }\n    | { type: typeof CARDSET_CREATE_FAILURE };\n\nexport interface CardSetListSuccess {\n    type: typeof CARDSET_LIST_SUCCESS;\n    byId: CardSetsCollection;\n    allIds: IdsArray;\n}\nexport type CardSetListAction =\n    | { type: typeof CARDSET_LIST_REQUEST }\n    | CardSetListSuccess\n    | { type: typeof CARDSET_LIST_FAILURE }\n    | { type: typeof CARDSET_LIST_RESET };\n\nexport interface CardSetSelectRequest {\n    type: typeof CARDSET_SELECT_REQUEST;\n    id: string;\n}\nexport interface CardSetSelectSuccess {\n    type: typeof CARDSET_SELECT_SUCCESS;\n    id: string;\n    name: string;\n    data: {\n        width: number;\n        height: number;\n        cardsAllIds: IdsArray;\n        cardsById: CardsCollection;\n        placeholders: PlaceholdersCollection;\n        texts: PlaceholdersTextInfoByCardCollection;\n        images: PlaceholdersImageInfoByCardCollection;\n    };\n    gameId: string;\n}\nexport interface CardSetCreateCard {\n    type: typeof CARDSET_CREATE_CARD;\n    card: CardType;\n}\nexport interface CardSetCloneCard {\n    type: typeof CARDSET_CLONE_CARD;\n    card: CardType;\n}\nexport interface CardSetRemoveCard {\n    type: typeof CARDSET_REMOVE_CARD;\n    card: CardType;\n}\nexport interface CardSetUpdateCardCount {\n    type: typeof CARDSET_UPDATE_CARD_COUNT;\n    card: CardType;\n    count: number;\n}\nexport interface CardSetAddTextPlaceholder {\n    type: typeof CARDSET_ADD_TEXT_PLACEHOLDER;\n}\nexport interface CardSetAddImagePlaceholder {\n    type: typeof CARDSET_ADD_IMAGE_PLACEHOLDER;\n}\nexport interface CardSetRemoveActivePlaceholder {\n    type: typeof CARDSET_REMOVE_ACTIVE_PLACEHOLDER;\n}\n\nexport interface CardSetChangeWidth {\n    type: typeof CARDSET_CHANGE_WIDTH;\n    width: number;\n}\n\nexport interface CardSetChangeHeight {\n    type: typeof CARDSET_CHANGE_HEIGHT;\n    height: number;\n}\n\nexport interface CardSetChangePlaceholderPosition {\n    type: typeof CARDSET_CHANGE_PLACEHOLDER_POSITION;\n    placeholder: PlaceholderType;\n    x: number;\n    y: number;\n}\nexport interface CardSetChangePlaceholderSize {\n    type: typeof CARDSET_CHANGE_PLACEHOLDER_SIZE;\n    placeholder: PlaceholderType;\n    width: number;\n    height: number;\n}\nexport interface CardSetChangePlaceholderAngle {\n    type: typeof CARDSET_CHANGE_PLACEHOLDER_ANGLE;\n    placeholder: PlaceholderType;\n    angle: number;\n}\nexport interface CardSetChangeActiveTextPlaceholderAlign {\n    type: typeof CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_ALIGN;\n    align: string;\n}\nexport interface CardSetChangeActiveTextPlaceholderColor {\n    type: typeof CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_COLOR;\n    color: string;\n}\nexport interface CardSetChangeActiveTextPlaceholderFontFamily {\n    type: typeof CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY;\n    fontFamily: string;\n}\nexport interface CardSetChangeActiveTextPlaceholderFontVariant {\n    type: typeof CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_VARIANT;\n    fontVariant: string;\n}\nexport interface CardSetChangeActiveTextPlaceholderFontFamilyAndVariant {\n    type: typeof CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY_AND_VARIANT;\n    fontFamily: string;\n    fontVariant: string;\n}\nexport interface CardSetChangeActiveTextPlaceholderFontSize {\n    type: typeof CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_SIZE;\n    fontSize: number;\n}\nexport interface CardSetChangeText {\n    type: typeof CARDSET_CHANGE_TEXT;\n    cardId: string;\n    placeholderId: string;\n    textInfo: TextInfo;\n}\nexport interface CardSetChangeImage {\n    type: typeof CARDSET_CHANGE_IMAGE;\n    cardId: string;\n    placeholderId: string;\n    imageInfo: ImageInfo;\n}\nexport interface CardSetSetActiveCardAndPlaceholder {\n    type: typeof CARDSET_SET_ACTIVE_CARD_AND_PLACEHOLDER;\n    cardId: string | null;\n    placeholderId: string | null;\n}\n\nexport type CardSetSelectAction = CardSetSelectRequest | CardSetSelectSuccess | { type: typeof CARDSET_SELECT_FAILURE };\n\nexport interface CardSetUpdateDataRequest {\n    type: typeof CARDSET_UPDATE_DATA_REQUEST;\n}\nexport interface CardSetUpdateDataSuccess {\n    type: typeof CARDSET_UPDATE_DATA_SUCCESS;\n}\nexport interface CardSetUpdateDataFailure {\n    type: typeof CARDSET_UPDATE_DATA_FAILURE;\n}\nexport type CardSetUpdateDataAction = CardSetUpdateDataRequest | CardSetUpdateDataSuccess | CardSetUpdateDataFailure;\n\nexport type CardSetModifyAction =\n    | CardSetCreateCard\n    | CardSetCloneCard\n    | CardSetRemoveCard\n    | CardSetUpdateCardCount\n    | CardSetAddTextPlaceholder\n    | CardSetAddImagePlaceholder\n    | CardSetRemoveActivePlaceholder\n    | CardSetChangeWidth\n    | CardSetChangeHeight\n    | CardSetChangePlaceholderPosition\n    | CardSetChangePlaceholderSize\n    | CardSetChangePlaceholderAngle\n    | CardSetChangeActiveTextPlaceholderAlign\n    | CardSetChangeActiveTextPlaceholderColor\n    | CardSetChangeActiveTextPlaceholderFontFamily\n    | CardSetChangeActiveTextPlaceholderFontVariant\n    | CardSetChangeActiveTextPlaceholderFontFamilyAndVariant\n    | CardSetChangeActiveTextPlaceholderFontSize\n    | CardSetChangeText\n    | CardSetChangeImage\n    | CardSetSetActiveCardAndPlaceholder;\n\nexport type CardSetAction =\n    | CardSetCreateAction\n    | CardSetListAction\n    | CardSetSelectAction\n    | CardSetUpdateDataAction\n    | CardSetModifyAction;\n\nexport interface ImageListRequest {\n    type: typeof IMAGE_LIST_REQUEST;\n    filter: string;\n}\nexport interface ImageListSuccess {\n    type: typeof IMAGE_LIST_SUCCESS;\n    images: ImageArray;\n}\nexport type ImageListAction = ImageListRequest | ImageListSuccess | { type: typeof IMAGE_LIST_FAILURE };\n\nexport type Action =\n    | InitAction\n    | LoginAction\n    | SignUpAction\n    | GameAction\n    | CardSetAction\n    | ImageListAction\n    | MessageAction;\n\nexport type Dispatch = ReduxDispatch<Action>;\n\nexport const messageRequest = (type: string, text: string): MessageAction => {\n    return {\n        type: MESSAGE_DISPLAY,\n        message: {\n            id: shortid.generate(),\n            type: type,\n            text: text,\n        },\n    };\n};\n\nexport const initRequest = (): InitAction => {\n    return { type: INIT_REQUEST };\n};\n\nexport const loginRequest = (creds: Credentials): LoginAction => {\n    return {\n        type: LOGIN_REQUEST,\n        creds: creds,\n    };\n};\n\nexport const logoutRequest = (): LoginAction => {\n    return {\n        type: LOGOUT_REQUEST,\n    };\n};\n\nexport const signupRequest = (creds: Credentials): SignUpAction => {\n    return {\n        type: SIGNUP_REQUEST,\n        creds: creds,\n    };\n};\n\nexport const gameCreateRequest = (gamename: string): GameAction => {\n    return {\n        type: GAME_CREATE_REQUEST,\n        gamename: gamename,\n    };\n};\n\nexport const gameListRequest = (): GameAction => {\n    return {\n        type: GAME_LIST_REQUEST,\n    };\n};\n\nexport const gameSelectRequest = (id: string, updateCardSets: boolean): GameAction => {\n    return {\n        type: GAME_SELECT_REQUEST,\n        id,\n        updateCardSets,\n    };\n};\n\nexport const gameCreatePdfRequest = (\n    pageWidth: number,\n    pageHeight: number,\n    topBottomMargin: number,\n    leftRightMargin: number,\n): GameCreatePdfRequest => {\n    return {\n        type: GAME_CREATE_PDF_REQUEST,\n        pageWidth,\n        pageHeight,\n        topBottomMargin,\n        leftRightMargin,\n    };\n};\n\nexport const cardSetCreateRequest = (\n    cardsetname: string,\n    width: number,\n    height: number,\n    gameId: string,\n): CardSetAction => {\n    return {\n        type: CARDSET_CREATE_REQUEST,\n        cardsetname: cardsetname,\n        width,\n        height,\n        gameId,\n    };\n};\n\nexport const cardSetSelectRequest = (id: string): CardSetSelectRequest => {\n    return {\n        type: CARDSET_SELECT_REQUEST,\n        id,\n    };\n};\n\nexport const cardSetCreateCard = (card: CardType): CardSetCreateCard => {\n    return {\n        type: CARDSET_CREATE_CARD,\n        card,\n    };\n};\n\nexport const cardSetCloneCard = (card: CardType): CardSetCloneCard => {\n    return {\n        type: CARDSET_CLONE_CARD,\n        card,\n    };\n};\n\nexport const cardSetRemoveCard = (card: CardType): CardSetRemoveCard => {\n    return {\n        type: CARDSET_REMOVE_CARD,\n        card,\n    };\n};\n\nexport const cardSetUpdateCardCount = (card: CardType, count: number): CardSetUpdateCardCount => {\n    return {\n        type: CARDSET_UPDATE_CARD_COUNT,\n        card,\n        count,\n    };\n};\n\nexport const cardSetAddTextPlaceholder = (): CardSetAddTextPlaceholder => {\n    return {\n        type: CARDSET_ADD_TEXT_PLACEHOLDER,\n    };\n};\n\nexport const cardSetAddImagePlaceholder = (): CardSetAddImagePlaceholder => {\n    return {\n        type: CARDSET_ADD_IMAGE_PLACEHOLDER,\n    };\n};\n\nexport const cardSetRemoveActivePlaceholder = (): CardSetRemoveActivePlaceholder => {\n    return {\n        type: CARDSET_REMOVE_ACTIVE_PLACEHOLDER,\n    };\n};\n\nexport const cardSetChangeWidth = (width: number): CardSetChangeWidth => {\n    return {\n        type: CARDSET_CHANGE_WIDTH,\n        width,\n    };\n};\n\nexport const cardSetChangeHeight = (height: number): CardSetChangeHeight => {\n    return {\n        type: CARDSET_CHANGE_HEIGHT,\n        height,\n    };\n};\n\nexport const cardSetChangePlaceholderPosition = (\n    placeholder: PlaceholderType,\n    x: number,\n    y: number,\n): CardSetChangePlaceholderPosition => {\n    return {\n        type: CARDSET_CHANGE_PLACEHOLDER_POSITION,\n        placeholder,\n        x,\n        y,\n    };\n};\n\nexport const cardSetChangePlaceholderSize = (\n    placeholder: PlaceholderType,\n    width: number,\n    height: number,\n): CardSetChangePlaceholderSize => {\n    return {\n        type: CARDSET_CHANGE_PLACEHOLDER_SIZE,\n        placeholder,\n        width,\n        height,\n    };\n};\n\nexport const cardSetChangePlaceholderAngle = (\n    placeholder: PlaceholderType,\n    angle: number,\n): CardSetChangePlaceholderAngle => {\n    return {\n        type: CARDSET_CHANGE_PLACEHOLDER_ANGLE,\n        placeholder,\n        angle,\n    };\n};\n\nexport const cardSetChangeActiveTextPlaceholderAlign = (align: string): CardSetChangeActiveTextPlaceholderAlign => {\n    return {\n        type: CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_ALIGN,\n        align,\n    };\n};\n\nexport const cardSetChangeActiveTextPlaceholderColor = (color: string): CardSetChangeActiveTextPlaceholderColor => {\n    return {\n        type: CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_COLOR,\n        color,\n    };\n};\n\nexport const cardSetChangeActiveTextPlaceholderFontFamily = (\n    fontFamily: string,\n): CardSetChangeActiveTextPlaceholderFontFamily => {\n    return {\n        type: CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY,\n        fontFamily,\n    };\n};\n\nexport const cardSetChangeActiveTextPlaceholderFontVariant = (\n    fontVariant: string,\n): CardSetChangeActiveTextPlaceholderFontVariant => {\n    return {\n        type: CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_VARIANT,\n        fontVariant,\n    };\n};\n\nexport const cardSetChangeActiveTextPlaceholderFontFamilyAndVariant = (\n    fontFamily: string,\n    fontVariant: string,\n): CardSetChangeActiveTextPlaceholderFontFamilyAndVariant => {\n    return {\n        type: CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY_AND_VARIANT,\n        fontFamily,\n        fontVariant,\n    };\n};\n\nexport const cardSetChangeActiveTextPlaceholderFontSize = (\n    fontSize: number,\n): CardSetChangeActiveTextPlaceholderFontSize => {\n    return {\n        type: CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_SIZE,\n        fontSize,\n    };\n};\n\nexport const cardSetChangeText = (cardId: string, placeholderId: string, textInfo: TextInfo): CardSetChangeText => {\n    return {\n        type: CARDSET_CHANGE_TEXT,\n        cardId,\n        placeholderId,\n        textInfo,\n    };\n};\n\nexport const cardSetChangeImage = (cardId: string, placeholderId: string, imageInfo: ImageInfo): CardSetChangeImage => {\n    return {\n        type: CARDSET_CHANGE_IMAGE,\n        cardId,\n        placeholderId,\n        imageInfo,\n    };\n};\n\nexport const cardSetActiveCardAndPlaceholder = (\n    cardId: string | null,\n    placeholderId: string | null,\n): CardSetSetActiveCardAndPlaceholder => {\n    return {\n        type: CARDSET_SET_ACTIVE_CARD_AND_PLACEHOLDER,\n        cardId,\n        placeholderId,\n    };\n};\n\nexport const imageListRequest = (filter: string): ImageListAction => {\n    return {\n        type: IMAGE_LIST_REQUEST,\n        filter,\n    };\n};\n","import axios, { AxiosError } from 'axios';\n\nimport { Credentials } from './actions';\n\nexport function handleAxiosError(error: AxiosError) {\n    if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        // error.response.status);\n        throw new Error(error.response.data.message);\n    } else if (error.request) {\n        console.log(error.request);\n        throw new Error(error.request);\n    } else {\n        throw new Error('Unknown error :(');\n    }\n}\n\nexport function getTokens(creds: Credentials) {\n    return axios\n        .post('/api/tokens', creds)\n        .then(resp => {\n            return resp.data;\n        })\n        .catch(error => {\n            handleAxiosError(error);\n        });\n}\n\nexport function refreshToken(refreshTokenValue: string) {\n    let config = {\n        headers: { Authorization: `Bearer ${refreshTokenValue}` },\n    };\n    return axios\n        .post('/api/access_tokens', {}, config)\n        .then(resp => {\n            return resp.data.accessToken;\n        })\n        .catch(error => {\n            handleAxiosError(error);\n        });\n}\n\nexport function deleteAccessToken(token: string) {\n    let config = {\n        headers: { Authorization: `Bearer ${token}` },\n    };\n    return axios\n        .delete('/api/access_tokens', config)\n        .then(resp => {\n            return resp.data;\n        })\n        .catch(error => {\n            if (error.response.status === 401) return {};\n            handleAxiosError(error);\n        });\n}\n\nexport function deleteRefreshToken(token: string) {\n    let config = {\n        headers: { Authorization: `Bearer ${token}` },\n    };\n    return axios\n        .delete('/api/refresh_tokens', config)\n        .then(resp => {\n            return resp.data;\n        })\n        .catch(error => {\n            if (error.response.status === 401) return {};\n            handleAxiosError(error);\n        });\n}\n\nexport function registerUser(creds: Credentials) {\n    return axios\n        .post('/api/users', creds)\n        .then(resp => {\n            return resp.data;\n        })\n        .catch(error => {\n            handleAxiosError(error);\n        });\n}\n\nexport function getRequest(url: string, token: string) {\n    let config = {\n        headers: { Authorization: `Bearer ${token}` },\n    };\n    return axios\n        .get(url, config)\n        .then(resp => {\n            return resp.data;\n        })\n        .catch(error => {\n            handleAxiosError(error);\n        });\n}\n\nexport function postRequest(url: string, token: string, data: object) {\n    let config = {\n        headers: { Authorization: `Bearer ${token}` },\n    };\n    return axios\n        .post(url, data, config)\n        .then(resp => {\n            return resp.data;\n        })\n        .catch(error => {\n            handleAxiosError(error);\n        });\n}\n\nexport function putRequest(url: string, token: string, data: object) {\n    let config = {\n        headers: { Authorization: `Bearer ${token}` },\n    };\n    return axios\n        .put(url, data, config)\n        .then(resp => {\n            return resp.data;\n        })\n        .catch(error => {\n            handleAxiosError(error);\n        });\n}\n","import {\n    CardsCollection,\n    PlaceholdersCollection,\n    PlaceholdersImageInfoByCardCollection,\n    PlaceholdersTextInfoByCardCollection,\n} from './actions';\n\nexport const generatePdfUsingWorker = (\n    width: number,\n    height: number,\n    cardsAllIds: string[],\n    cardsById: CardsCollection,\n    placeholders: PlaceholdersCollection,\n    texts: PlaceholdersTextInfoByCardCollection,\n    images: PlaceholdersImageInfoByCardCollection,\n    pageWidth: number,\n    pageHeight: number,\n    topBottomMargin: number,\n    leftRightMargin: number,\n) => {\n    // @ts-ignore\n    if (!window.Worker) {\n        throw new Error('We can not generate PDF because of browser you use. Try using different browser');\n    }\n\n    return new Promise((resolve, reject) => {\n        try {\n            const worker = new Worker('/js/worker.js');\n            worker.addEventListener('message', event => {\n                const blobURL = event.data;\n\n                const tempLink = document.createElement('a');\n                tempLink.style.display = 'none';\n                tempLink.href = blobURL;\n                tempLink.setAttribute('download', 'card.pdf');\n                if (typeof tempLink.download === 'undefined') {\n                    tempLink.setAttribute('target', '_blank');\n                }\n                document.body.appendChild(tempLink);\n                tempLink.click();\n                document.body.removeChild(tempLink);\n                setTimeout(() => {\n                    window.URL.revokeObjectURL(blobURL);\n                    resolve();\n                }, 100);\n            });\n\n            worker.postMessage({\n                width,\n                height,\n                cardsAllIds,\n                cardsById,\n                placeholders,\n                texts,\n                images,\n                pageWidth,\n                pageHeight,\n                topBottomMargin,\n                leftRightMargin,\n            });\n        } catch (e) {\n            reject(e);\n        }\n    });\n};\n","export function saveTokens(data: { accessToken: string; refreshToken: string }) {\n    localStorage.setItem('accessToken', data.accessToken);\n    localStorage.setItem('refreshToken', data.refreshToken);\n}\n\nexport function saveAccessToken(accessToken: string) {\n    localStorage.setItem('accessToken', accessToken);\n}\n\nexport function cleanTokens() {\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('refreshToken');\n}\n\nexport function getTokenFromStorage() {\n    let token = localStorage.getItem('accessToken') || null;\n    return token;\n}\n\nexport function getRefreshTokenFromStorage() {\n    let token = localStorage.getItem('refreshToken') || null;\n    return token;\n}\n","import WebFont from 'webfontloader';\n\nimport { PlaceholdersCollection } from './actions';\n\nexport const DEFAULT_FONT = 'Roboto';\nexport const DEFAULT_FONT_VARIANT = 'regular';\nexport const DEFAULT_FONT_SIZE = 8;\n\nconst webFontsLoadPromise = (config: WebFont.Config) =>\n    new Promise((resolve, reject) => {\n        WebFont.load({ ...config, active: resolve, inactive: reject });\n    });\n\nexport const loadFontsUsedInPlaceholders = (data: { placeholders: PlaceholdersCollection }) => {\n    let fontsToLoad: Set<string> = new Set();\n    fontsToLoad.add(DEFAULT_FONT);\n    for (const plId in data.placeholders) {\n        const pl = data.placeholders[plId];\n        if (pl.type === 'text' && pl.fontFamily) {\n            let fontToLoad = pl.fontFamily;\n            if (pl.fontVariant && pl.fontVariant !== 'regular') {\n                fontToLoad += ':' + pl.fontVariant;\n            }\n\n            fontsToLoad.add(fontToLoad);\n        }\n    }\n\n    const config: WebFont.Config = {\n        google: {\n            families: [...Array.from(fontsToLoad)],\n        },\n    };\n\n    return webFontsLoadPromise(config);\n};\n","import { all, call, put, select, takeEvery, takeLatest } from 'redux-saga/effects';\nimport { delay, SagaIterator } from 'redux-saga';\nimport jwtDecode from 'jwt-decode';\n\nimport {\n    CARDSET_ADD_IMAGE_PLACEHOLDER,\n    CARDSET_ADD_TEXT_PLACEHOLDER,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_ALIGN,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_COLOR,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY_AND_VARIANT,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_SIZE,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_VARIANT,\n    CARDSET_CHANGE_HEIGHT,\n    CARDSET_CHANGE_IMAGE,\n    CARDSET_CHANGE_PLACEHOLDER_ANGLE,\n    CARDSET_CHANGE_PLACEHOLDER_POSITION,\n    CARDSET_CHANGE_PLACEHOLDER_SIZE,\n    CARDSET_CHANGE_TEXT,\n    CARDSET_CHANGE_WIDTH,\n    CARDSET_CLONE_CARD,\n    CARDSET_CREATE_CARD,\n    CARDSET_CREATE_FAILURE,\n    CARDSET_CREATE_REQUEST,\n    CARDSET_CREATE_SUCCESS,\n    CARDSET_LIST_RESET,\n    CARDSET_LIST_SUCCESS,\n    CARDSET_REMOVE_ACTIVE_PLACEHOLDER,\n    CARDSET_REMOVE_CARD,\n    CARDSET_SELECT_FAILURE,\n    CARDSET_SELECT_REQUEST,\n    CARDSET_SELECT_SUCCESS,\n    CARDSET_UPDATE_CARD_COUNT,\n    CARDSET_UPDATE_DATA_FAILURE,\n    CARDSET_UPDATE_DATA_REQUEST,\n    CARDSET_UPDATE_DATA_SUCCESS,\n    CardSetCreateRequest,\n    CardSetSelectRequest,\n    CardSetType,\n    CardSetsCollection,\n    GAME_CREATE_FAILURE,\n    GAME_CREATE_PDF_FAILURE,\n    GAME_CREATE_PDF_REQUEST,\n    GAME_CREATE_PDF_SUCCESS,\n    GAME_CREATE_REQUEST,\n    GAME_CREATE_SUCCESS,\n    GAME_LIST_FAILURE,\n    GAME_LIST_REQUEST,\n    GAME_LIST_RESET,\n    GAME_LIST_SUCCESS,\n    GAME_SELECT_FAILURE,\n    GAME_SELECT_REQUEST,\n    GAME_SELECT_SUCCESS,\n    GameCreatePdfRequest,\n    GameCreateRequest,\n    GameSelectRequest,\n    GameType,\n    GamesCollection,\n    IMAGE_LIST_FAILURE,\n    IMAGE_LIST_REQUEST,\n    IMAGE_LIST_SUCCESS,\n    INIT_REQUEST,\n    ImageListRequest,\n    LOGIN_FAILURE,\n    LOGIN_REQUEST,\n    LOGIN_SUCCESS,\n    LOGOUT_FAILURE,\n    LOGOUT_REQUEST,\n    LOGOUT_SUCCESS,\n    LoginRequest,\n    MESSAGE_DISPLAY,\n    MESSAGE_HIDE,\n    MessageAction,\n    SIGNUP_FAILURE,\n    SIGNUP_REQUEST,\n    SIGNUP_SUCCESS,\n    SignUpRequest,\n    gameSelectRequest,\n    messageRequest,\n} from './actions';\nimport {\n    deleteAccessToken,\n    deleteRefreshToken,\n    getRequest,\n    getTokens,\n    postRequest,\n    putRequest,\n    refreshToken,\n    registerUser,\n} from './requests';\nimport { generatePdfUsingWorker } from './workerController';\nimport { getTokenFromStorage, getRefreshTokenFromStorage, saveAccessToken, saveTokens, cleanTokens } from './storage';\nimport { loadFontsUsedInPlaceholders } from './fontLoader';\n\n// Messages\nexport function* putError(message: string): SagaIterator {\n    yield put(messageRequest('error', message));\n}\n\nexport function* handleMessageDisplay(action: MessageAction): SagaIterator {\n    yield call(delay, 5000);\n    yield put({ type: MESSAGE_HIDE, message: action.message });\n}\n\n// Login & Signup\n// Token handling\n\nexport function validateToken(token: string): boolean {\n    try {\n        const decoded = jwtDecode<{ exp: number }>(token);\n        const valid = decoded.exp - new Date().getTime() / 1000 > 5;\n        return valid;\n    } catch (e) {\n        return false;\n    }\n}\n\nexport function* getToken(withErrorIfMissing: boolean): SagaIterator {\n    const token = yield call(getTokenFromStorage);\n    if (token) {\n        const tokenValid = yield call(validateToken, token);\n        if (tokenValid) return token;\n    }\n\n    const refreshTokenValue = yield call(getRefreshTokenFromStorage);\n    if (!refreshTokenValue) {\n        if (withErrorIfMissing) throw new Error('Token not found.');\n        return null;\n    }\n\n    const refreshTokenValid = yield call(validateToken, refreshTokenValue);\n    if (!refreshTokenValid) {\n        yield put({ type: LOGOUT_REQUEST });\n        if (withErrorIfMissing) throw new Error('Token not found.');\n        return null;\n    }\n\n    const newToken = yield call(refreshToken, refreshTokenValue);\n    yield call(saveAccessToken, newToken);\n    return newToken;\n}\n\n// Login\n\nexport function* handleLoginRequest(action: LoginRequest): SagaIterator {\n    try {\n        const data = yield call(getTokens, action.creds);\n        yield call(saveTokens, data);\n        yield put({ type: LOGIN_SUCCESS });\n    } catch (e) {\n        yield put({ type: LOGIN_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\nexport function* handleLoginSuccess(): SagaIterator {\n    yield put({ type: GAME_LIST_REQUEST });\n}\n\n// Logout\n\nexport function* logoutToken(): SagaIterator {\n    const token = yield call(getTokenFromStorage);\n    if (token) {\n        const tokenValid = yield call(validateToken, token);\n        if (tokenValid) {\n            yield call(deleteAccessToken, token);\n        }\n    }\n}\n\nexport function* logoutRefreshToken(): SagaIterator {\n    const refreshTokenValue = yield call(getRefreshTokenFromStorage);\n    if (refreshTokenValue) {\n        const refreshTokenValid = yield call(validateToken, refreshTokenValue);\n        if (refreshTokenValid) {\n            yield call(deleteRefreshToken, refreshTokenValue);\n        }\n    }\n}\n\nexport function* handleLogoutRequest(): SagaIterator {\n    try {\n        yield call(logoutToken);\n        yield call(logoutRefreshToken);\n        yield call(cleanTokens);\n\n        yield put({ type: CARDSET_LIST_RESET });\n        yield put({ type: GAME_LIST_RESET });\n        yield put({ type: LOGOUT_SUCCESS });\n    } catch (e) {\n        yield put({ type: LOGOUT_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\n// Sign-up\n\nexport function* handleSignupRequest(action: SignUpRequest): SagaIterator {\n    try {\n        const data = yield call(registerUser, action.creds);\n        yield call(saveTokens, data);\n        yield put({ type: SIGNUP_SUCCESS });\n        yield put({ type: LOGIN_SUCCESS });\n    } catch (e) {\n        yield put({ type: SIGNUP_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\n// Init\nexport function* handleInitRequest(): SagaIterator {\n    try {\n        let token = yield call(getToken, false);\n        if (token) {\n            yield put({ type: LOGIN_SUCCESS });\n        }\n    } catch (e) {}\n}\n\n// Authorized Requests\nexport function* authorizedGetRequest(url: string): SagaIterator {\n    const token = yield call(getToken, true);\n    return yield call(getRequest, url, token);\n}\n\nexport function* authorizedPostRequest(url: string, data: object): SagaIterator {\n    const token = yield call(getToken, true);\n    return yield call(postRequest, url, token, data);\n}\n\nexport function* authorizedPutRequest(url: string, data: object): SagaIterator {\n    const token = yield call(getToken, true);\n    return yield call(putRequest, url, token, data);\n}\n\n// Game\nexport function* handleGameCreateRequest(action: GameCreateRequest): SagaIterator {\n    try {\n        yield call(authorizedPostRequest, '/api/games', { name: action.gamename });\n        yield put({\n            type: GAME_CREATE_SUCCESS,\n        });\n        yield put({ type: GAME_LIST_REQUEST });\n    } catch (e) {\n        yield put({ type: GAME_CREATE_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\nexport function* handleGameListRequest(): SagaIterator {\n    try {\n        const data = yield call(authorizedGetRequest, '/api/games');\n        const allIds = data.games.map((g: GameType) => g.id);\n        const byId = data.games.reduce((obj: GamesCollection, g: GameType) => {\n            obj[g.id] = g;\n            return obj;\n        }, {});\n        yield put({\n            type: GAME_LIST_SUCCESS,\n            allIds,\n            byId,\n        });\n    } catch (e) {\n        yield put({ type: GAME_LIST_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\nexport function* handleGameSelectRequest(action: GameSelectRequest): SagaIterator {\n    try {\n        const data = yield call(authorizedGetRequest, '/api/games/' + action.id);\n        yield put({\n            type: GAME_SELECT_SUCCESS,\n            id: action.id,\n        });\n\n        if (action.updateCardSets) {\n            const allIds = data.cardsets.map((g: CardSetType) => g.id);\n            const byId = data.cardsets.reduce((obj: CardSetsCollection, g: CardSetType) => {\n                obj[g.id] = g;\n                return obj;\n            }, {});\n            yield put({\n                type: CARDSET_LIST_SUCCESS,\n                allIds,\n                byId,\n            });\n        }\n    } catch (e) {\n        yield put({ type: GAME_SELECT_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\nexport function* handleGameCreatePdfRequest(action: GameCreatePdfRequest): SagaIterator {\n    try {\n        const state = yield select();\n\n        yield call(\n            generatePdfUsingWorker,\n            state.cardsets.width,\n            state.cardsets.height,\n            state.cardsets.cardsAllIds,\n            state.cardsets.cardsById,\n            state.cardsets.placeholders,\n            state.cardsets.texts,\n            state.cardsets.images,\n            action.pageWidth,\n            action.pageHeight,\n            action.topBottomMargin,\n            action.leftRightMargin,\n        );\n        yield put({\n            type: GAME_CREATE_PDF_SUCCESS,\n        });\n    } catch (e) {\n        yield put({ type: GAME_CREATE_PDF_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\n// Card Set\n\nexport function* handleCardSetCreateRequest(action: CardSetCreateRequest): SagaIterator {\n    try {\n        yield call(authorizedPostRequest, '/api/cardsets', {\n            name: action.cardsetname,\n            gameId: action.gameId,\n            data: JSON.stringify({ width: action.width, height: action.height }),\n        });\n        yield put({\n            type: CARDSET_CREATE_SUCCESS,\n        });\n        yield put(gameSelectRequest(action.gameId, true));\n    } catch (e) {\n        yield put({ type: CARDSET_CREATE_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\nexport function* handleCardSetSelectRequest(action: CardSetSelectRequest): SagaIterator {\n    try {\n        const data = yield call(authorizedGetRequest, '/api/cardsets/' + action.id);\n        const parsedData = JSON.parse(data.data);\n        yield call(loadFontsUsedInPlaceholders, parsedData);\n        yield put({\n            type: CARDSET_SELECT_SUCCESS,\n            id: data.id,\n            name: data.name,\n            data: parsedData,\n        });\n        yield put(gameSelectRequest(data.gameId, false));\n    } catch (e) {\n        yield put({ type: CARDSET_SELECT_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\nexport function* handleCardSetChange(): SagaIterator {\n    try {\n        yield call(delay, 1000);\n        const state = yield select();\n\n        yield put({\n            type: CARDSET_UPDATE_DATA_REQUEST,\n        });\n\n        const cardsetId = state.cardsets.active;\n        const data = {\n            width: state.cardsets.width,\n            height: state.cardsets.height,\n            cardsAllIds: state.cardsets.cardsAllIds,\n            cardsById: state.cardsets.cardsById,\n            placeholders: state.cardsets.placeholders,\n            texts: state.cardsets.texts,\n            images: state.cardsets.images,\n        };\n\n        yield call(authorizedPutRequest, '/api/cardsets/' + cardsetId, {\n            name: state.cardsets.byId[cardsetId].name,\n            data: JSON.stringify(data),\n        });\n        yield put({\n            type: CARDSET_UPDATE_DATA_SUCCESS,\n        });\n    } catch (e) {\n        yield put({ type: CARDSET_UPDATE_DATA_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\n// Images\nexport function* handleImageListRequest(action: ImageListRequest): SagaIterator {\n    try {\n        yield call(delay, 200);\n        const data = yield call(authorizedGetRequest, '/api/images?name=' + action.filter);\n        const images = data.images;\n        yield put({\n            type: IMAGE_LIST_SUCCESS,\n            images,\n        });\n    } catch (e) {\n        yield put({ type: IMAGE_LIST_FAILURE });\n        yield call(putError, e.message);\n    }\n}\n\n// All\nexport function* rootSaga(): SagaIterator {\n    yield all([\n        takeEvery(MESSAGE_DISPLAY, handleMessageDisplay),\n        takeLatest(LOGIN_REQUEST, handleLoginRequest),\n        takeLatest(LOGIN_SUCCESS, handleLoginSuccess),\n        takeLatest(LOGOUT_REQUEST, handleLogoutRequest),\n        takeLatest(SIGNUP_REQUEST, handleSignupRequest),\n        takeLatest(GAME_CREATE_REQUEST, handleGameCreateRequest),\n        takeLatest(GAME_LIST_REQUEST, handleGameListRequest),\n        takeLatest(GAME_SELECT_REQUEST, handleGameSelectRequest),\n        takeLatest(GAME_CREATE_PDF_REQUEST, handleGameCreatePdfRequest),\n        takeLatest(CARDSET_CREATE_REQUEST, handleCardSetCreateRequest),\n        takeLatest(CARDSET_SELECT_REQUEST, handleCardSetSelectRequest),\n\n        takeLatest(CARDSET_CREATE_CARD, handleCardSetChange),\n        takeLatest(CARDSET_CLONE_CARD, handleCardSetChange),\n        takeLatest(CARDSET_REMOVE_CARD, handleCardSetChange),\n        takeLatest(CARDSET_UPDATE_CARD_COUNT, handleCardSetChange),\n        takeLatest(CARDSET_ADD_TEXT_PLACEHOLDER, handleCardSetChange),\n        takeLatest(CARDSET_ADD_IMAGE_PLACEHOLDER, handleCardSetChange),\n        takeLatest(CARDSET_REMOVE_ACTIVE_PLACEHOLDER, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_WIDTH, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_HEIGHT, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_PLACEHOLDER_POSITION, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_PLACEHOLDER_SIZE, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_PLACEHOLDER_ANGLE, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_ALIGN, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_COLOR, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_VARIANT, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY_AND_VARIANT, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_SIZE, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_TEXT, handleCardSetChange),\n        takeLatest(CARDSET_CHANGE_IMAGE, handleCardSetChange),\n\n        takeLatest(IMAGE_LIST_REQUEST, handleImageListRequest),\n\n        takeLatest(INIT_REQUEST, handleInitRequest),\n    ]);\n}\n","import { combineReducers } from 'redux';\nimport shortid from 'shortid';\n\nimport {\n    CARDSET_ADD_IMAGE_PLACEHOLDER,\n    CARDSET_ADD_TEXT_PLACEHOLDER,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_ALIGN,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_COLOR,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY_AND_VARIANT,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_SIZE,\n    CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_VARIANT,\n    CARDSET_CHANGE_HEIGHT,\n    CARDSET_CHANGE_IMAGE,\n    CARDSET_CHANGE_PLACEHOLDER_ANGLE,\n    CARDSET_CHANGE_PLACEHOLDER_POSITION,\n    CARDSET_CHANGE_PLACEHOLDER_SIZE,\n    CARDSET_CHANGE_TEXT,\n    CARDSET_CHANGE_WIDTH,\n    CARDSET_CLONE_CARD,\n    CARDSET_CREATE_CARD,\n    CARDSET_CREATE_FAILURE,\n    CARDSET_CREATE_REQUEST,\n    CARDSET_CREATE_SUCCESS,\n    CARDSET_LIST_FAILURE,\n    CARDSET_LIST_REQUEST,\n    CARDSET_LIST_RESET,\n    CARDSET_LIST_SUCCESS,\n    CARDSET_REMOVE_ACTIVE_PLACEHOLDER,\n    CARDSET_REMOVE_CARD,\n    CARDSET_SELECT_FAILURE,\n    CARDSET_SELECT_REQUEST,\n    CARDSET_SELECT_SUCCESS,\n    CARDSET_SET_ACTIVE_CARD_AND_PLACEHOLDER,\n    CARDSET_UPDATE_CARD_COUNT,\n    CARDSET_UPDATE_DATA_FAILURE,\n    CARDSET_UPDATE_DATA_REQUEST,\n    CARDSET_UPDATE_DATA_SUCCESS,\n    CardSetAction,\n    CardSetsCollection,\n    CardsCollection,\n    GAME_CREATE_FAILURE,\n    GAME_CREATE_PDF_FAILURE,\n    GAME_CREATE_PDF_REQUEST,\n    GAME_CREATE_PDF_SUCCESS,\n    GAME_CREATE_REQUEST,\n    GAME_CREATE_SUCCESS,\n    GAME_LIST_FAILURE,\n    GAME_LIST_REQUEST,\n    GAME_LIST_RESET,\n    GAME_LIST_SUCCESS,\n    GAME_SELECT_FAILURE,\n    GAME_SELECT_REQUEST,\n    GAME_SELECT_SUCCESS,\n    GameAction,\n    GamesCollection,\n    IMAGE_LIST_FAILURE,\n    IMAGE_LIST_REQUEST,\n    IMAGE_LIST_SUCCESS,\n    IdsArray,\n    ImageArray,\n    ImageListAction,\n    ImagePlaceholderType,\n    LOGIN_FAILURE,\n    LOGIN_REQUEST,\n    LOGIN_SUCCESS,\n    LOGOUT_SUCCESS,\n    LoginAction,\n    MESSAGE_DISPLAY,\n    MESSAGE_HIDE,\n    MessageAction,\n    MessageType,\n    PlaceholdersCollection,\n    PlaceholdersImageInfoByCardCollection,\n    PlaceholdersImageInfoCollection,\n    PlaceholdersTextInfoByCardCollection,\n    PlaceholdersTextInfoCollection,\n    SIGNUP_FAILURE,\n    SIGNUP_REQUEST,\n    SIGNUP_SUCCESS,\n    SignUpAction,\n    TextPlaceholderType,\n} from './actions';\nimport { DEFAULT_FONT, DEFAULT_FONT_SIZE, DEFAULT_FONT_VARIANT } from './fontLoader';\n\nexport const ACTIVITY_CREATING = 0x1;\nexport const ACTIVITY_LISTING = 0x2;\nexport const ACTIVITY_SELECTING = 0x4;\nexport const ACTIVITY_CREATING_PDF = 0x8;\nexport const ACTIVITY_UPDATING = 0x10;\n\nexport interface MessageState {\n    messages: MessageType[];\n}\n\nexport const DefaultMessageState: MessageState = {\n    messages: [],\n};\n\nexport interface AuthState {\n    isAuthenticated: boolean;\n    user: string;\n}\n\nexport const DefaultAuthState: AuthState = {\n    isAuthenticated: false,\n    user: '',\n};\n\nexport interface SignUpState {\n    signingup: boolean;\n}\n\nexport const DefaultSignUpState: SignUpState = {\n    signingup: false,\n};\n\nexport interface GameState {\n    byId: GamesCollection;\n    allIds: IdsArray;\n    activity: number;\n    active: string | null;\n}\n\nexport const DefaultGameState: GameState = {\n    byId: {},\n    allIds: [],\n    activity: 0,\n    active: null,\n};\n\nexport interface TextSettings {\n    align: string;\n    color: string;\n    fontFamily: string;\n    fontVariant: string;\n    fontSize: number;\n}\n\nexport interface CardSetState {\n    width: number;\n    height: number;\n    byId: CardSetsCollection;\n    allIds: IdsArray;\n    activity: number;\n    active: string | null;\n    cardsAllIds: IdsArray;\n    cardsById: CardsCollection;\n    activeCard: string | null;\n    activePlaceholder: string | null;\n    placeholders: PlaceholdersCollection;\n    texts: PlaceholdersTextInfoByCardCollection;\n    images: PlaceholdersImageInfoByCardCollection;\n    textSettings: TextSettings;\n}\n\nexport const DefaultCardSetState: CardSetState = {\n    width: 63.5,\n    height: 88.9,\n    byId: {},\n    allIds: [],\n    activity: 0,\n    active: null,\n    placeholders: {},\n    cardsById: {},\n    cardsAllIds: [],\n    activeCard: null,\n    activePlaceholder: null,\n    texts: {},\n    images: {},\n    textSettings: {\n        align: 'left',\n        color: '#000000',\n        fontFamily: DEFAULT_FONT,\n        fontVariant: DEFAULT_FONT_VARIANT,\n        fontSize: DEFAULT_FONT_SIZE,\n    },\n};\n\nexport interface ImageState {\n    activity: number;\n    filter: string;\n    images: ImageArray;\n}\n\nexport const DefaultImageState: ImageState = {\n    activity: 0,\n    filter: '',\n    images: [],\n};\n\nexport interface State {\n    message: MessageState;\n    auth: AuthState;\n    signup: SignUpState;\n    games: GameState;\n    cardsets: CardSetState;\n    images: ImageState;\n}\n\nexport const DefaultState: State = {\n    message: DefaultMessageState,\n    auth: DefaultAuthState,\n    signup: DefaultSignUpState,\n    games: DefaultGameState,\n    cardsets: DefaultCardSetState,\n    images: DefaultImageState,\n};\n\nexport function message(state: MessageState = DefaultMessageState, action: MessageAction): MessageState {\n    switch (action.type) {\n        case MESSAGE_DISPLAY:\n            return Object.assign({}, state, {\n                messages: state.messages.concat(action.message),\n            });\n        case MESSAGE_HIDE:\n            return Object.assign({}, state, {\n                messages: state.messages.filter(m => m.id !== action.message.id),\n            });\n        default:\n            return state;\n    }\n}\n\nexport function auth(state: AuthState = DefaultAuthState, action: LoginAction): AuthState {\n    switch (action.type) {\n        case LOGIN_REQUEST:\n            return Object.assign({}, state, {\n                isAuthenticated: false,\n                user: action.creds.username,\n            });\n        case LOGIN_SUCCESS:\n            return Object.assign({}, state, {\n                isAuthenticated: true,\n            });\n        case LOGIN_FAILURE:\n            return Object.assign({}, state, {\n                isAuthenticated: false,\n            });\n        case LOGOUT_SUCCESS:\n            return Object.assign({}, state, {\n                isAuthenticated: false,\n            });\n        default:\n            return state;\n    }\n}\n\nexport function signup(state: SignUpState = DefaultSignUpState, action: SignUpAction): SignUpState {\n    switch (action.type) {\n        case SIGNUP_REQUEST:\n            return Object.assign({}, state, {\n                signingup: true,\n            });\n        case SIGNUP_SUCCESS:\n            return Object.assign({}, state, {\n                signingup: false,\n            });\n        case SIGNUP_FAILURE:\n            return Object.assign({}, state, {\n                signingup: false,\n            });\n        default:\n            return state;\n    }\n}\n\nexport function games(state: GameState = DefaultGameState, action: GameAction): GameState {\n    switch (action.type) {\n        case GAME_CREATE_REQUEST:\n            return Object.assign({}, state, {\n                activity: state.activity | ACTIVITY_CREATING,\n            });\n        case GAME_CREATE_SUCCESS:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_CREATING,\n            });\n        case GAME_CREATE_FAILURE:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_CREATING,\n            });\n        case GAME_LIST_REQUEST:\n            return Object.assign({}, state, {\n                activity: state.activity | ACTIVITY_LISTING,\n            });\n        case GAME_LIST_SUCCESS:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_LISTING,\n                byId: action.byId,\n                allIds: action.allIds,\n            });\n        case GAME_LIST_FAILURE:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_LISTING,\n            });\n        case GAME_LIST_RESET:\n            return Object.assign({}, state, {\n                activity: 0,\n                byId: {},\n                allIds: [],\n            });\n        case GAME_SELECT_REQUEST:\n            return Object.assign({}, state, {\n                activity: ACTIVITY_SELECTING,\n            });\n        case GAME_SELECT_SUCCESS:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_SELECTING,\n                active: action.id,\n            });\n        case GAME_SELECT_FAILURE:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_SELECTING,\n            });\n        case GAME_CREATE_PDF_REQUEST:\n            return Object.assign({}, state, {\n                activity: state.activity | ACTIVITY_CREATING_PDF,\n            });\n        case GAME_CREATE_PDF_SUCCESS:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_CREATING_PDF,\n            });\n        case GAME_CREATE_PDF_FAILURE:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_CREATING_PDF,\n            });\n        default:\n            return state;\n    }\n}\n\nexport function cardsets(state: CardSetState = DefaultCardSetState, action: CardSetAction): CardSetState {\n    switch (action.type) {\n        case CARDSET_CREATE_REQUEST:\n            return Object.assign({}, state, {\n                activity: state.activity | ACTIVITY_CREATING,\n            });\n        case CARDSET_CREATE_SUCCESS:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_CREATING,\n            });\n        case CARDSET_CREATE_FAILURE:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_CREATING,\n            });\n        case CARDSET_UPDATE_DATA_REQUEST:\n            return Object.assign({}, state, {\n                activity: state.activity | ACTIVITY_UPDATING,\n            });\n        case CARDSET_UPDATE_DATA_SUCCESS:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_UPDATING,\n            });\n        case CARDSET_UPDATE_DATA_FAILURE:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_UPDATING,\n            });\n        case CARDSET_LIST_REQUEST:\n            return Object.assign({}, state, {\n                activity: state.activity | ACTIVITY_LISTING,\n            });\n        case CARDSET_LIST_SUCCESS:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_LISTING,\n                byId: action.byId,\n                allIds: action.allIds,\n            });\n        case CARDSET_LIST_RESET:\n            return Object.assign({}, state, {\n                activity: 0,\n                byId: {},\n                allIds: [],\n            });\n        case CARDSET_LIST_FAILURE:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_LISTING,\n            });\n        case CARDSET_SELECT_REQUEST:\n            return Object.assign({}, state, {\n                activity: state.activity | ACTIVITY_SELECTING,\n            });\n        case CARDSET_SELECT_SUCCESS:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_SELECTING,\n                active: action.id,\n                byId: Object.assign({}, state.byId, {\n                    [action.id]: {\n                        id: action.id,\n                        name: action.name,\n                    },\n                }),\n                width: action.data.width || 63.5,\n                height: action.data.height || 88.9,\n                cardsAllIds: action.data.cardsAllIds || [],\n                cardsById: action.data.cardsById || {},\n                placeholders: action.data.placeholders || {},\n                texts: action.data.texts || {},\n                images: action.data.images || {},\n                activeCard: null,\n                activePlaceholder: null,\n            });\n        case CARDSET_SELECT_FAILURE:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_SELECTING,\n            });\n        case CARDSET_CREATE_CARD:\n            return {\n                ...state,\n                cardsById: {\n                    ...state.cardsById,\n                    [action.card.id]: action.card,\n                },\n                cardsAllIds: state.cardsAllIds ? state.cardsAllIds.concat(action.card.id) : [action.card.id],\n            };\n        case CARDSET_CLONE_CARD: {\n            let newCard = { ...action.card, id: shortid.generate() };\n\n            const index = state.cardsAllIds.indexOf(action.card.id) + 1;\n            const cardsAllIds = [...state.cardsAllIds.slice(0, index), newCard.id, ...state.cardsAllIds.slice(index)];\n\n            return {\n                ...state,\n                cardsById: {\n                    ...state.cardsById,\n                    [newCard.id]: newCard,\n                },\n                cardsAllIds,\n                texts: {\n                    ...state.texts,\n                    [newCard.id]: {\n                        ...state.texts[action.card.id],\n                    },\n                },\n                images: {\n                    ...state.images,\n                    [newCard.id]: {\n                        ...state.images[action.card.id],\n                    },\n                },\n            };\n        }\n        case CARDSET_REMOVE_CARD: {\n            const cardId = action.card.id;\n            let cardsById = { ...state.cardsById };\n            delete cardsById[cardId];\n\n            let texts = { ...state.texts };\n            if (cardId in texts) {\n                delete texts[cardId];\n            }\n\n            let images = { ...state.images };\n            if (cardId in images) {\n                delete images[cardId];\n            }\n\n            let activeCard = state.activeCard === cardId ? null : state.activeCard;\n\n            const cardsAllIds = state.cardsAllIds.filter(id => id !== cardId);\n\n            let placeholders = state.placeholders;\n            if (cardsAllIds.length === 0) {\n                placeholders = {};\n            }\n\n            return {\n                ...state,\n                cardsById,\n                cardsAllIds,\n                placeholders,\n                texts,\n                images,\n                activeCard,\n            };\n        }\n        case CARDSET_UPDATE_CARD_COUNT: {\n            const cardId = action.card.id;\n            let card = { ...state.cardsById[cardId] };\n            card.count = action.count;\n\n            return {\n                ...state,\n                cardsById: {\n                    ...state.cardsById,\n                    [cardId]: card,\n                },\n            };\n        }\n        case CARDSET_ADD_TEXT_PLACEHOLDER: {\n            let textSettings = { ...state.textSettings };\n            const id = shortid.generate();\n            const textPlaceholder: TextPlaceholderType = {\n                id,\n                type: 'text',\n                x: 5,\n                y: 5,\n                width: 20,\n                height: 10,\n                angle: 0,\n                align: textSettings.align,\n                color: textSettings.color,\n                fontFamily: textSettings.fontFamily,\n                fontVariant: textSettings.fontVariant,\n                fontSize: textSettings.fontSize,\n            };\n\n            return {\n                ...state,\n                placeholders: {\n                    ...state.placeholders,\n                    [id]: textPlaceholder,\n                },\n            };\n        }\n        case CARDSET_ADD_IMAGE_PLACEHOLDER: {\n            const id = shortid.generate();\n            const imagePlaceholder: ImagePlaceholderType = {\n                id,\n                type: 'image',\n                x: 5,\n                y: 5,\n                width: 20,\n                height: 20,\n                angle: 0,\n            };\n\n            return {\n                ...state,\n                placeholders: {\n                    ...state.placeholders,\n                    [id]: imagePlaceholder,\n                },\n            };\n        }\n        case CARDSET_REMOVE_ACTIVE_PLACEHOLDER: {\n            const placeholderId = state.activePlaceholder;\n            if (placeholderId !== undefined && placeholderId !== null) {\n                let placeholders = { ...state.placeholders };\n                if (placeholderId in placeholders) {\n                    delete placeholders[placeholderId];\n                }\n\n                let texts = { ...state.texts };\n                for (const cardId in texts) {\n                    if (placeholderId in texts[cardId]) {\n                        let placeholderTexts = { ...texts[cardId] };\n                        delete placeholderTexts[placeholderId];\n                        texts[cardId] = placeholderTexts;\n                    }\n                }\n\n                let images = { ...state.images };\n                for (const cardId in images) {\n                    if (placeholderId in images[cardId]) {\n                        let placeholderImages = { ...images[cardId] };\n                        delete placeholderImages[placeholderId];\n                        images[cardId] = placeholderImages;\n                    }\n                }\n\n                return {\n                    ...state,\n                    placeholders,\n                    texts,\n                    images,\n                    activePlaceholder: null,\n                };\n            }\n            return state;\n        }\n        case CARDSET_CHANGE_WIDTH: {\n            return {\n                ...state,\n                width: action.width,\n            };\n        }\n        case CARDSET_CHANGE_HEIGHT: {\n            return {\n                ...state,\n                height: action.height,\n            };\n        }\n        case CARDSET_CHANGE_PLACEHOLDER_POSITION: {\n            const placeholder = {\n                ...state.placeholders[action.placeholder.id],\n                x: action.x,\n                y: action.y,\n            };\n\n            return {\n                ...state,\n                placeholders: {\n                    ...state.placeholders,\n                    [action.placeholder.id]: placeholder,\n                },\n            };\n        }\n        case CARDSET_CHANGE_PLACEHOLDER_SIZE: {\n            const placeholder = {\n                ...state.placeholders[action.placeholder.id],\n                width: action.width,\n                height: action.height,\n            };\n\n            return {\n                ...state,\n                placeholders: {\n                    ...state.placeholders,\n                    [action.placeholder.id]: placeholder,\n                },\n            };\n        }\n        case CARDSET_CHANGE_PLACEHOLDER_ANGLE: {\n            const placeholder = {\n                ...state.placeholders[action.placeholder.id],\n                angle: action.angle,\n            };\n\n            return {\n                ...state,\n                placeholders: {\n                    ...state.placeholders,\n                    [action.placeholder.id]: placeholder,\n                },\n            };\n        }\n        case CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_ALIGN: {\n            let textSettings = {\n                ...state.textSettings,\n                align: action.align,\n            };\n\n            if (state.activePlaceholder) {\n                const textPlaceholder = {\n                    ...state.placeholders[state.activePlaceholder],\n                    align: action.align,\n                };\n\n                return {\n                    ...state,\n                    placeholders: {\n                        ...state.placeholders,\n                        [state.activePlaceholder]: textPlaceholder,\n                    },\n                    textSettings,\n                };\n            } else {\n                return {\n                    ...state,\n                    textSettings,\n                };\n            }\n        }\n        case CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_COLOR: {\n            let textSettings = {\n                ...state.textSettings,\n                color: action.color,\n            };\n\n            if (state.activePlaceholder) {\n                const textPlaceholder = {\n                    ...state.placeholders[state.activePlaceholder],\n                    color: action.color,\n                };\n\n                return {\n                    ...state,\n                    placeholders: {\n                        ...state.placeholders,\n                        [state.activePlaceholder]: textPlaceholder,\n                    },\n                    textSettings,\n                };\n            } else {\n                return {\n                    ...state,\n                    textSettings,\n                };\n            }\n        }\n        case CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY: {\n            let textSettings = {\n                ...state.textSettings,\n                color: action.fontFamily,\n            };\n\n            if (state.activePlaceholder) {\n                const textPlaceholder = {\n                    ...state.placeholders[state.activePlaceholder],\n                    fontFamily: action.fontFamily,\n                };\n\n                return {\n                    ...state,\n                    placeholders: {\n                        ...state.placeholders,\n                        [state.activePlaceholder]: textPlaceholder,\n                    },\n                    textSettings,\n                };\n            } else {\n                return {\n                    ...state,\n                    textSettings,\n                };\n            }\n        }\n        case CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_VARIANT: {\n            let textSettings = {\n                ...state.textSettings,\n                color: action.fontVariant,\n            };\n\n            if (state.activePlaceholder) {\n                const textPlaceholder = {\n                    ...state.placeholders[state.activePlaceholder],\n                    fontVariant: action.fontVariant,\n                };\n\n                return {\n                    ...state,\n                    placeholders: {\n                        ...state.placeholders,\n                        [state.activePlaceholder]: textPlaceholder,\n                    },\n                    textSettings,\n                };\n            } else {\n                return {\n                    ...state,\n                    textSettings,\n                };\n            }\n        }\n        case CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_FAMILY_AND_VARIANT: {\n            let textSettings = {\n                ...state.textSettings,\n                fontFamily: action.fontFamily,\n                fontVariant: action.fontVariant,\n            };\n\n            if (state.activePlaceholder) {\n                const textPlaceholder = {\n                    ...state.placeholders[state.activePlaceholder],\n                    fontFamily: action.fontFamily,\n                    fontVariant: action.fontVariant,\n                };\n\n                return {\n                    ...state,\n                    placeholders: {\n                        ...state.placeholders,\n                        [state.activePlaceholder]: textPlaceholder,\n                    },\n                    textSettings,\n                };\n            } else {\n                return {\n                    ...state,\n                    textSettings,\n                };\n            }\n        }\n        case CARDSET_CHANGE_ACTIVE_TEXT_PLACEHOLDER_FONT_SIZE: {\n            let textSettings = {\n                ...state.textSettings,\n                fontSize: action.fontSize,\n            };\n\n            if (state.activePlaceholder) {\n                const textPlaceholder = {\n                    ...state.placeholders[state.activePlaceholder],\n                    fontSize: action.fontSize,\n                };\n\n                return {\n                    ...state,\n                    placeholders: {\n                        ...state.placeholders,\n                        [state.activePlaceholder]: textPlaceholder,\n                    },\n                    textSettings,\n                };\n            } else {\n                return {\n                    ...state,\n                    textSettings,\n                };\n            }\n        }\n        case CARDSET_CHANGE_TEXT: {\n            let placeholdersByCard: PlaceholdersTextInfoCollection = {};\n            if (state.texts && action.cardId in state.texts) {\n                placeholdersByCard = { ...state.texts[action.cardId] };\n            }\n            placeholdersByCard[action.placeholderId] = action.textInfo;\n\n            return {\n                ...state,\n                texts: {\n                    ...state.texts,\n                    [action.cardId]: placeholdersByCard,\n                },\n            };\n        }\n        case CARDSET_CHANGE_IMAGE: {\n            let placeholdersByCard: PlaceholdersImageInfoCollection = {};\n            if (state.images && action.cardId in state.images) {\n                placeholdersByCard = { ...state.images[action.cardId] };\n            }\n            placeholdersByCard[action.placeholderId] = action.imageInfo;\n\n            return {\n                ...state,\n                images: {\n                    ...state.images,\n                    [action.cardId]: placeholdersByCard,\n                },\n            };\n        }\n        case CARDSET_SET_ACTIVE_CARD_AND_PLACEHOLDER: {\n            let textSettings = { ...state.textSettings };\n            if (action.placeholderId !== null) {\n                const placeholder = state.placeholders[action.placeholderId];\n                if (placeholder.type === 'text') {\n                    textSettings.align = placeholder.align;\n                    textSettings.color = placeholder.color;\n                    textSettings.fontFamily = placeholder.fontFamily;\n                    textSettings.fontVariant = placeholder.fontVariant;\n                    textSettings.fontSize = placeholder.fontSize;\n                }\n            }\n\n            return {\n                ...state,\n                activeCard: action.cardId,\n                activePlaceholder: action.placeholderId,\n                textSettings,\n            };\n        }\n        default:\n            return state;\n    }\n}\n\nexport function images(state: ImageState = DefaultImageState, action: ImageListAction): ImageState {\n    switch (action.type) {\n        case IMAGE_LIST_REQUEST:\n            return Object.assign({}, state, {\n                filter: action.filter,\n                activity: state.activity | ACTIVITY_LISTING,\n            });\n        case IMAGE_LIST_SUCCESS:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_LISTING,\n                images: action.images,\n            });\n        case IMAGE_LIST_FAILURE:\n            return Object.assign({}, state, {\n                activity: state.activity & ~ACTIVITY_LISTING,\n            });\n        default:\n            return state;\n    }\n}\n\nconst reducers = combineReducers({\n    message,\n    auth,\n    signup,\n    games,\n    cardsets,\n    images,\n});\n\nexport default reducers;\n","import { Ghost, Browser } from 'react-kawaii';\nimport React, { Component } from 'react';\n\nexport enum Character {\n    Ghost,\n    Browser,\n}\ninterface Props {\n    character: Character;\n    mood?: string;\n}\n\nexport default class KawaiiMessage extends Component<Props> {\n    render() {\n        const { character, mood } = this.props;\n\n        return (\n            <div\n                style={{\n                    padding: '1em',\n                    borderRadius: '1em',\n                    backgroundColor: 'var(--color-2)',\n                    display: 'grid',\n                    grid: 'auto-flow / minmax(120px, auto) 1fr',\n                }}\n            >\n                {character === Character.Ghost && <Ghost size={120} mood={mood || 'blissful'} color=\"#faebef\" />}\n                {character === Character.Browser && <Browser size={120} mood={mood || 'blissful'} color=\"#faebef\" />}\n                <div style={{ marginLeft: '1em' }}>{this.props.children}</div>\n            </div>\n        );\n    }\n}\n","import React, { Component } from 'react';\n\nexport default class AboutPage extends Component {\n    render() {\n        return (\n            <div>\n                <h2>About</h2>\n                <p>\n                    \"Card-a-mon\" is card game development tool. At the moment it is project of single person (me) with a\n                    vision. My aim is to create affordable and practical tool to develop card games from A (prototyping)\n                    to Z (printing). If you have ideas, suggestions, proposals, comments and etc. then you can contact\n                    me by e-mail <a href=\"mailto:dalius@ffff.lt\">dalius@ffff.lt</a>.\n                </p>\n                <h2>Credits</h2>\n                This project is available because of number amazing open source projects. Some of them:\n                <ul>\n                    <li>\n                        <a href=\"https://reactjs.org/\">React</a> and all the ecosystem around it.\n                    </li>\n                    <li>\n                        <a href=\"https://fonts.google.com/\">Google Fonts</a>\n                    </li>\n                    <li>\n                        <a href=\"https://github.com/game-icons/icons\">Game icons</a>\n                    </li>\n                    <li>\n                        <a href=\"http://pdfkit.org/\">PDFKit</a>\n                    </li>\n                </ul>\n                <p>... and many more.</p>\n            </div>\n        );\n    }\n}\n","import { ChromePicker, ColorResult } from 'react-color';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { Dispatch, cardSetChangeActiveTextPlaceholderColor } from '../actions';\n\ninterface Props {\n    dispatch: Dispatch;\n}\ninterface State {\n    displayColorPicker: boolean;\n}\n\nclass ColorButton extends Component<Props, State> {\n    state = {\n        displayColorPicker: false,\n    };\n\n    handleClick = () => {\n        this.setState({ displayColorPicker: !this.state.displayColorPicker });\n    };\n\n    handleClose = () => {\n        this.setState({ displayColorPicker: false });\n    };\n\n    handleChange = (color: ColorResult) => {\n        const selection = window.getSelection();\n        const range = selection.getRangeAt(0);\n        if (selection.rangeCount === 1 && range.collapsed) {\n            const { dispatch } = this.props;\n            dispatch(cardSetChangeActiveTextPlaceholderColor(color.hex));\n        } else {\n            document.execCommand('forecolor', false, color.hex);\n        }\n    };\n\n    render() {\n        const popover: React.CSSProperties = {\n            position: 'absolute',\n            zIndex: 2,\n        };\n        const cover: React.CSSProperties = {\n            position: 'fixed',\n            top: '0px',\n            right: '0px',\n            bottom: '0px',\n            left: '0px',\n        };\n        return (\n            <>\n                <button onClick={this.handleClick} title=\"Change text color\">\n                    <i className=\"material-icons\">format_color_text</i>\n                </button>\n                {this.state.displayColorPicker ? (\n                    <div style={popover}>\n                        <div style={cover} onClick={this.handleClose} />\n                        <ChromePicker disableAlpha={true} onChange={this.handleChange} />\n                    </div>\n                ) : null}\n            </>\n        );\n    }\n}\n\nexport default connect()(ColorButton);\n","import './FontSelector.css';\n\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport WebFont from 'webfontloader';\n\nimport {\n    Dispatch,\n    cardSetChangeActiveTextPlaceholderFontFamilyAndVariant,\n    cardSetChangeActiveTextPlaceholderFontSize,\n    cardSetChangeActiveTextPlaceholderFontVariant,\n} from '../actions';\nimport { State } from '../reducers';\nimport style from './FontSelector.module.css';\nimport webfonts from './webfonts.json';\n\ninterface WebFontsInfo {\n    [propName: string]: {\n        [propName: string]: string;\n    };\n}\n\ninterface FontOption {\n    value: string;\n    label: string;\n}\n\nconst options: FontOption[] = Object.keys(webfonts)\n    .sort()\n    .map(fi => ({ value: fi, label: fi }));\n\ninterface StateProps {\n    activeFont: string;\n    activeFontVariant: string;\n    activeFontSize: number;\n}\n\ninterface DispatchProps {\n    dispatch: Dispatch;\n}\n\ntype Props = StateProps & DispatchProps;\n\nclass FontSelector extends Component<Props> {\n    getFontStringForLoad = (family: string, variant: string) => {\n        let stringForLoad = family;\n        if (variant !== 'regular') {\n            stringForLoad += ':' + variant;\n        }\n        return stringForLoad;\n    };\n\n    handleChange = (selectedOption?: FontOption | FontOption[] | null) => {\n        if (!selectedOption) return;\n\n        const fontFamily = (selectedOption as FontOption).value;\n\n        let fontVariant = this.props.activeFontVariant;\n        const wf: WebFontsInfo = webfonts;\n        if (!(fontVariant in wf[fontFamily])) {\n            fontVariant = Object.keys(wf[fontFamily]).sort()[0];\n        }\n\n        WebFont.load({\n            google: {\n                families: [this.getFontStringForLoad(fontFamily, fontVariant)],\n            },\n            active: () => {\n                const { dispatch } = this.props;\n                dispatch(cardSetChangeActiveTextPlaceholderFontFamilyAndVariant(fontFamily, fontVariant));\n            },\n        });\n    };\n\n    handleFontVariantChange = (selectedOption?: FontOption | FontOption[] | null) => {\n        if (!selectedOption) return;\n\n        const value = (selectedOption as FontOption).value;\n        WebFont.load({\n            google: {\n                families: [this.getFontStringForLoad(this.props.activeFont, value)],\n            },\n            active: () => {\n                const { dispatch } = this.props;\n                dispatch(cardSetChangeActiveTextPlaceholderFontVariant(value));\n            },\n        });\n    };\n\n    handleFontSizeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { dispatch } = this.props;\n        dispatch(cardSetChangeActiveTextPlaceholderFontSize(parseFloat(event.target.value)));\n    };\n\n    render() {\n        const selectedFontFamily = options.find(f => f.value === this.props.activeFont);\n\n        const fontVariantOptions: FontOption[] = Object.keys((webfonts as WebFontsInfo)[this.props.activeFont])\n            .sort()\n            .map(fv => ({ value: fv, label: fv }));\n\n        const selectedFontVariant = fontVariantOptions.find(f => f.value === this.props.activeFontVariant);\n\n        return (\n            <>\n                <input\n                    type=\"number\"\n                    value={this.props.activeFontSize}\n                    onChange={this.handleFontSizeChange}\n                    title=\"Font size\"\n                />\n                <Select\n                    className={style.fontFamily}\n                    classNamePrefix=\"fontFamily\"\n                    value={selectedFontFamily}\n                    onChange={this.handleChange}\n                    options={options}\n                />\n                <Select\n                    className={style.fontVariant}\n                    value={selectedFontVariant}\n                    onChange={this.handleFontVariantChange}\n                    options={fontVariantOptions}\n                />\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State): StateProps => {\n    let activeFont = state.cardsets.textSettings.fontFamily;\n    let activeFontVariant = state.cardsets.textSettings.fontVariant;\n    let activeFontSize = state.cardsets.textSettings.fontSize;\n\n    return {\n        activeFont,\n        activeFontVariant,\n        activeFontSize,\n    };\n};\n\nexport default connect<StateProps, DispatchProps, {}, State>(mapStateToProps)(FontSelector);\n","import { connect } from 'react-redux';\nimport React from 'react';\n\nimport { Dispatch } from '../actions';\nimport { State } from '../reducers';\nimport resize from './resize.svg';\nimport rotate from './rotate.svg';\nimport style from './FieldController.module.css';\n\ninterface OwnProps {\n    cardId: string;\n    placeholderId: string;\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    angle: number;\n    children: React.ReactNode;\n    onDrag: (x: number, y: number) => void;\n    onResize: (width: number, height: number) => void;\n    onRotate: (angle: number) => void;\n}\n\ninterface StateProps {\n    isActive: boolean;\n    isActivePlaceholder: boolean;\n}\n\ninterface DispatchProps {\n    dispatch: Dispatch;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps;\n\nclass FieldController extends React.Component<Props> {\n    moving: boolean;\n    cDiv: React.RefObject<HTMLDivElement>;\n    resizeDiv: React.RefObject<HTMLImageElement>;\n    rotateDiv: React.RefObject<HTMLImageElement>;\n    relX: number;\n    relY: number;\n    startX: number;\n    startY: number;\n    originalW: number;\n    originalH: number;\n    rotatedPointX: number;\n    rotatedPointY: number;\n    centerX: number;\n    centerY: number;\n    originalAngle: number;\n    currentAngle: number;\n\n    constructor(props: Props) {\n        super(props);\n        this.cDiv = React.createRef();\n        this.resizeDiv = React.createRef();\n        this.rotateDiv = React.createRef();\n        this.currentAngle = props.angle;\n        this.moving = false;\n        this.relX = 0;\n        this.relY = 0;\n        this.startX = 0;\n        this.startY = 0;\n        this.originalW = 0;\n        this.originalH = 0;\n        this.rotatedPointX = 0;\n        this.rotatedPointY = 0;\n        this.centerX = 0;\n        this.centerY = 0;\n        this.originalAngle = 0;\n    }\n\n    componentDidMount() {\n        if (this.cDiv.current === null) return;\n        if (this.resizeDiv.current === null) return;\n        if (this.rotateDiv.current === null) return;\n\n        this.cDiv.current.addEventListener('dragstart', this.handleBrowserDragStart);\n        this.cDiv.current.addEventListener('mousedown', this.handleMouseDown);\n        this.cDiv.current.addEventListener('touchstart', this.handleTouchStart);\n        this.resizeDiv.current.addEventListener('mousedown', this.handleResizeMouseDown);\n        this.resizeDiv.current.addEventListener('touchstart', this.handleResizeTouchStart);\n        this.rotateDiv.current.addEventListener('mousedown', this.handleRotateMouseDown);\n        this.rotateDiv.current.addEventListener('touchstart', this.handleRotateTouchStart);\n    }\n\n    componentDidUpdate() {\n        if (this.cDiv.current === null) return;\n\n        this.currentAngle = this.props.angle;\n    }\n\n    rotateVec = (x: number, y: number, a: number) => {\n        const sinA = Math.sin(a);\n        const cosA = Math.cos(a);\n        const rx = cosA * x - sinA * y;\n        const ry = sinA * x + cosA * y;\n\n        return { rx, ry };\n    };\n\n    handleBrowserDragStart = (event: DragEvent) => {\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    // Dragging handling\n\n    handleMouseDown = (event: MouseEvent) => {\n        this.handleDragStart(event);\n\n        document.addEventListener('mousemove', this.handleMouseMove);\n        document.addEventListener('mouseup', this.handleMouseUp);\n        event.stopPropagation();\n    };\n\n    handleTouchStart = (event: TouchEvent) => {\n        this.handleDragStart(event.changedTouches[0]);\n\n        document.addEventListener('touchmove', this.handleTouchMove, { passive: false });\n        document.addEventListener('touchend', this.handleTouchEnd, { passive: false });\n        event.stopPropagation();\n    };\n\n    handleDragStart = (co: { clientX: number; clientY: number }) => {\n        if (this.cDiv.current === null) return;\n        this.relX = co.clientX - this.cDiv.current.offsetLeft;\n        this.relY = co.clientY - this.cDiv.current.offsetTop;\n    };\n\n    handleMouseUp = (event: MouseEvent) => {\n        this.handleComplete(event);\n\n        document.removeEventListener('mousemove', this.handleMouseMove);\n        document.removeEventListener('mouseup', this.handleMouseUp);\n    };\n\n    handleTouchEnd = (event: TouchEvent) => {\n        this.handleComplete(event);\n\n        document.removeEventListener('touchmove', this.handleTouchMove);\n        document.removeEventListener('touchend', this.handleTouchEnd);\n    };\n\n    handleComplete = (event: Event) => {\n        if (this.cDiv.current === null) return;\n        if (this.moving) {\n            this.props.onDrag(this.cDiv.current.offsetLeft, this.cDiv.current.offsetTop);\n            this.moving = false;\n        }\n        event.preventDefault();\n    };\n\n    handleMouseMove = (event: MouseEvent) => {\n        this.handleDragMove(event);\n        event.preventDefault();\n    };\n\n    handleTouchMove = (event: TouchEvent) => {\n        this.handleDragMove(event.changedTouches[0]);\n        event.preventDefault();\n    };\n\n    handleDragMove = (co: { clientX: number; clientY: number }) => {\n        if (this.cDiv.current === null) return;\n        this.moving = true;\n\n        const x = co.clientX - this.relX;\n        const y = co.clientY - this.relY;\n        this.cDiv.current.style.left = x + 'px';\n        this.cDiv.current.style.top = y + 'px';\n    };\n\n    // Resize handling\n\n    handleResizeMouseDown = (event: MouseEvent) => {\n        this.handleResizeStart(event);\n\n        document.addEventListener('mousemove', this.handleResizeMouseMove);\n        document.addEventListener('mouseup', this.handleResizeMouseUp);\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    handleResizeTouchStart = (event: TouchEvent) => {\n        this.handleResizeStart(event.changedTouches[0]);\n\n        document.addEventListener('touchmove', this.handleResizeTouchMove, { passive: false });\n        document.addEventListener('touchend', this.handleResizeTouchEnd, { passive: false });\n        event.stopPropagation();\n    };\n\n    handleResizeStart = (co: { clientX: number; clientY: number }) => {\n        if (this.cDiv.current === null) return;\n        this.originalW = this.cDiv.current.clientWidth;\n        this.originalH = this.cDiv.current.clientHeight;\n\n        const dx = this.cDiv.current.clientWidth / 2;\n        const dy = this.cDiv.current.clientHeight / 2;\n        const { rx, ry } = this.rotateVec(-dx, -dy, this.currentAngle);\n\n        this.rotatedPointX = this.cDiv.current.offsetLeft + dx + rx;\n        this.rotatedPointY = this.cDiv.current.offsetTop + dy + ry;\n\n        this.startX = co.clientX;\n        this.startY = co.clientY;\n    };\n\n    handleResizeMouseUp = (event: MouseEvent) => {\n        this.handleResizeComplete(event);\n\n        document.removeEventListener('mousemove', this.handleResizeMouseMove);\n        document.removeEventListener('mouseup', this.handleResizeMouseUp);\n    };\n\n    handleResizeTouchEnd = (event: TouchEvent) => {\n        this.handleResizeComplete(event);\n\n        document.removeEventListener('touchmove', this.handleResizeTouchMove);\n        document.removeEventListener('touchend', this.handleResizeTouchEnd);\n    };\n\n    handleResizeComplete = (event: Event) => {\n        if (this.cDiv.current === null) return;\n        if (this.moving) {\n            const { offsetLeft, offsetTop, clientWidth, clientHeight } = this.cDiv.current;\n            this.props.onDrag(offsetLeft, offsetTop);\n            this.props.onResize(clientWidth, clientHeight);\n            this.moving = false;\n        }\n        event.preventDefault();\n    };\n\n    handleResizeMouseMove = (event: MouseEvent) => {\n        this.handleResizeMove(event);\n        event.preventDefault();\n    };\n\n    handleResizeTouchMove = (event: TouchEvent) => {\n        this.handleResizeMove(event.changedTouches[0]);\n        event.preventDefault();\n    };\n\n    handleResizeMove = (co: { clientX: number; clientY: number }) => {\n        if (this.cDiv.current === null) return;\n        this.moving = true;\n\n        const vx = co.clientX - this.startX;\n        const vy = co.clientY - this.startY;\n\n        const { rx, ry } = this.rotateVec(vx, vy, -this.currentAngle);\n\n        const w = this.originalW + rx;\n        const h = this.originalH + ry;\n        this.cDiv.current.style.width = w + 'px';\n        this.cDiv.current.style.height = h + 'px';\n\n        const rotatedV = this.rotateVec(w / 2, h / 2, this.currentAngle);\n        const nx = this.rotatedPointX + rotatedV.rx;\n        const ny = this.rotatedPointY + rotatedV.ry;\n\n        this.cDiv.current.style.left = nx - w / 2 + 'px';\n        this.cDiv.current.style.top = ny - h / 2 + 'px';\n    };\n\n    // Rotation handling\n\n    handleRotateMouseDown = (event: MouseEvent) => {\n        this.handleRotateStart(event);\n\n        document.addEventListener('mousemove', this.handleRotateMouseMove);\n        document.addEventListener('mouseup', this.handleRotateMouseUp);\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    handleRotateTouchStart = (event: TouchEvent) => {\n        this.handleRotateStart(event.changedTouches[0]);\n\n        document.addEventListener('touchmove', this.handleRotateTouchMove, { passive: false });\n        document.addEventListener('touchend', this.handleRotateTouchEnd, { passive: false });\n        event.stopPropagation();\n    };\n\n    handleRotateStart = (co: { clientX: number; clientY: number }) => {\n        if (this.cDiv.current === null) return;\n        const rect = this.cDiv.current.getBoundingClientRect();\n        this.centerX = rect.left + this.cDiv.current.clientWidth / 2;\n        this.centerY = rect.top + this.cDiv.current.clientHeight / 2;\n\n        this.originalAngle = Math.atan2(this.centerX - co.clientX, this.centerY - co.clientY) + this.currentAngle;\n    };\n\n    handleRotateMouseUp = (event: MouseEvent) => {\n        this.handleRotateComplete(event);\n\n        document.removeEventListener('mousemove', this.handleRotateMouseMove);\n        document.removeEventListener('mouseup', this.handleRotateMouseUp);\n    };\n\n    handleRotateTouchEnd = (event: TouchEvent) => {\n        this.handleRotateComplete(event);\n\n        document.removeEventListener('touchmove', this.handleRotateTouchMove);\n        document.removeEventListener('touchend', this.handleRotateTouchEnd);\n    };\n\n    handleRotateComplete = (event: Event) => {\n        if (this.moving) {\n            this.props.onRotate(this.currentAngle);\n            this.moving = false;\n        }\n        event.preventDefault();\n    };\n\n    handleRotateMouseMove = (event: MouseEvent) => {\n        this.handleRotateMove(event);\n        event.preventDefault();\n    };\n\n    handleRotateTouchMove = (event: TouchEvent) => {\n        this.handleRotateMove(event.changedTouches[0]);\n        event.preventDefault();\n    };\n\n    handleRotateMove = (co: { clientX: number; clientY: number }) => {\n        if (this.cDiv.current === null) return;\n        this.moving = true;\n\n        const angle = Math.atan2(this.centerX - co.clientX, this.centerY - co.clientY);\n        this.currentAngle = this.originalAngle - angle;\n\n        this.cDiv.current.style.transform = `rotate(${this.currentAngle}rad)`;\n    };\n\n    // Rendering\n\n    render() {\n        const { x, y, width, height, angle, children, isActive, isActivePlaceholder } = this.props;\n\n        return (\n            <div\n                ref={this.cDiv}\n                className={`${style.fieldcontroller} ${\n                    isActivePlaceholder ? style.fieldcontrolleractiveplaceholder : ''\n                } ${isActive ? style.fieldcontrolleractive : ''}`}\n                style={{\n                    position: 'absolute',\n                    left: x,\n                    top: y,\n                    width: width,\n                    height: height,\n                    cursor: 'grab',\n                    transform: `rotate(${angle}rad)`,\n                }}\n            >\n                {children}\n                <img\n                    src={resize}\n                    alt=\"resize\"\n                    ref={this.resizeDiv}\n                    className={style.controller}\n                    style={{\n                        position: 'absolute',\n                        right: 0,\n                        bottom: 0,\n                        cursor: `url(${resize}), auto`,\n                    }}\n                />\n                <img\n                    src={rotate}\n                    alt=\"rotate\"\n                    ref={this.rotateDiv}\n                    className={style.controller}\n                    style={{\n                        position: 'absolute',\n                        left: 0,\n                        bottom: 0,\n                        cursor: `url(${rotate}), auto`,\n                    }}\n                />\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State, props: OwnProps): StateProps => {\n    return {\n        isActive:\n            props.cardId === state.cardsets.activeCard && props.placeholderId === state.cardsets.activePlaceholder,\n        isActivePlaceholder: props.placeholderId === state.cardsets.activePlaceholder,\n    };\n};\n\nexport default connect<StateProps, DispatchProps, OwnProps, State>(mapStateToProps)(FieldController);\n","import { connect } from 'react-redux';\nimport React, { PureComponent } from 'react';\n\nimport {\n    Dispatch,\n    ImagePlaceholderType,\n    cardSetActiveCardAndPlaceholder,\n    cardSetChangePlaceholderAngle,\n    cardSetChangePlaceholderPosition,\n    cardSetChangePlaceholderSize,\n} from '../actions';\nimport { State } from '../reducers';\nimport FieldController from './FieldController';\nimport emptyImageImage from './image.svg';\n\ninterface OwnProps {\n    cardId: string;\n    ppmm: number;\n    imagePlaceholder: ImagePlaceholderType;\n}\n\ninterface StateProps {\n    imageUrl: string;\n}\n\ninterface DispatchProps {\n    dispatch: Dispatch;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps;\n\nclass ImageField extends PureComponent<Props> {\n    imageDiv: React.RefObject<HTMLDivElement>;\n    wasMoved: boolean;\n\n    constructor(props: Props) {\n        super(props);\n        this.imageDiv = React.createRef();\n        this.wasMoved = false;\n    }\n\n    componentDidMount() {\n        if (!this.imageDiv.current) return;\n        this.imageDiv.current.addEventListener('mousedown', this.handleMouseDown);\n        this.imageDiv.current.addEventListener('touchstart', this.handleTouchStart);\n        this.imageDiv.current.addEventListener('mousemove', this.handleMouseMove);\n        this.imageDiv.current.addEventListener('touchmove', this.handleTouchMove, { passive: false });\n        this.imageDiv.current.addEventListener('mouseup', this.handleMouseUp);\n        this.imageDiv.current.addEventListener('touchend', this.handleTouchEnd, { passive: false });\n    }\n\n    handleDrag = (x: number, y: number) => {\n        const { dispatch, imagePlaceholder, ppmm } = this.props;\n        dispatch(cardSetChangePlaceholderPosition(imagePlaceholder, x / ppmm, y / ppmm));\n    };\n\n    handleResize = (width: number, height: number) => {\n        const { dispatch, imagePlaceholder, ppmm } = this.props;\n        dispatch(cardSetChangePlaceholderSize(imagePlaceholder, width / ppmm, height / ppmm));\n    };\n\n    handleRotate = (angle: number) => {\n        const { dispatch, imagePlaceholder } = this.props;\n        dispatch(cardSetChangePlaceholderAngle(imagePlaceholder, angle));\n    };\n\n    handleMouseDown = (event: MouseEvent) => {\n        this.wasMoved = false;\n        event.preventDefault();\n    };\n\n    handleTouchStart = (event: TouchEvent) => {\n        this.wasMoved = false;\n        event.preventDefault();\n    };\n\n    handleMouseMove = (event: MouseEvent) => {\n        this.wasMoved = true;\n        event.preventDefault();\n    };\n\n    handleTouchMove = (event: TouchEvent) => {\n        this.wasMoved = true;\n        event.preventDefault();\n    };\n\n    handleMouseUp = (event: MouseEvent) => {\n        this.handleComplete(event);\n    };\n\n    handleTouchEnd = (event: TouchEvent) => {\n        this.handleComplete(event);\n    };\n\n    handleComplete = (event: Event) => {\n        const { dispatch, cardId, imagePlaceholder } = this.props;\n        if (!this.wasMoved) {\n            event.preventDefault();\n            dispatch(cardSetActiveCardAndPlaceholder(cardId, imagePlaceholder.id));\n        }\n    };\n\n    render() {\n        const { imagePlaceholder, imageUrl, ppmm } = this.props;\n\n        return (\n            <FieldController\n                cardId={this.props.cardId}\n                placeholderId={imagePlaceholder.id}\n                x={imagePlaceholder.x * ppmm}\n                y={imagePlaceholder.y * ppmm}\n                width={imagePlaceholder.width * ppmm}\n                height={imagePlaceholder.height * ppmm}\n                angle={imagePlaceholder.angle}\n                onDrag={this.handleDrag}\n                onResize={this.handleResize}\n                onRotate={this.handleRotate}\n            >\n                <div\n                    ref={this.imageDiv}\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                    }}\n                >\n                    <img\n                        style={{ opacity: imageUrl.length > 0 ? 1 : 0.5, width: '100%', height: 'auto' }}\n                        src={imageUrl || emptyImageImage}\n                        alt=\"\"\n                    />\n                </div>\n            </FieldController>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State, props: OwnProps): StateProps => {\n    const imageUrl =\n        state.cardsets.images &&\n        state.cardsets.images[props.cardId] &&\n        state.cardsets.images[props.cardId][props.imagePlaceholder.id]\n            ? state.cardsets.images[props.cardId][props.imagePlaceholder.id].url\n            : '';\n    return {\n        imageUrl,\n    };\n};\n\nexport default connect<StateProps, DispatchProps, OwnProps, State>(mapStateToProps)(ImageField);\n","import { connect } from 'react-redux';\nimport Modal from 'react-modal';\nimport React, { Component } from 'react';\n\nimport { Dispatch, ImageArray, ImageInfo, cardSetChangeImage, imageListRequest } from '../actions';\nimport { State } from '../reducers';\n\ninterface Props {\n    imageUrl: string;\n    cardId: string;\n    placeholderId: string;\n    isOpen: boolean;\n    filter: string;\n    images: ImageArray;\n    onClose: () => void;\n    dispatch: Dispatch;\n}\n\nconst customStyles = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n    },\n};\n\nclass ImageSelectionDialog extends Component<Props> {\n    componentWillMount = () => {\n        Modal.setAppElement('#root');\n    };\n\n    handleClose = () => {\n        this.props.onClose();\n    };\n\n    handleFilterChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { dispatch } = this.props;\n        dispatch(imageListRequest(event.target.value));\n    };\n\n    handleImageSelect = (imageName: string) => {\n        const { dispatch, cardId, placeholderId } = this.props;\n\n        const ii: ImageInfo = { url: `/api/imagefiles/${imageName}` };\n        dispatch(cardSetChangeImage(cardId, placeholderId, ii));\n\n        this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Modal\n                isOpen={this.props.isOpen}\n                onRequestClose={this.handleClose}\n                style={customStyles}\n                contentLabel=\"Select an image\"\n            >\n                <img\n                    src={this.props.imageUrl}\n                    alt=\"\"\n                    style={{\n                        width: 100,\n                        height: 100,\n                    }}\n                />\n\n                <input type=\"text\" value={this.props.filter} onChange={this.handleFilterChange} />\n\n                <div>\n                    {this.props.images.map(im => {\n                        return (\n                            <img\n                                key={im.id}\n                                src={`/api/imagefiles/${im.name}`}\n                                onClick={() => this.handleImageSelect(im.name)}\n                                alt=\"\"\n                                style={{\n                                    width: 100,\n                                    height: 100,\n                                }}\n                            />\n                        );\n                    })}\n                </div>\n\n                <button onClick={this.handleClose}>close</button>\n            </Modal>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        images: state.images.images,\n        filter: state.images.filter,\n    };\n};\n\nexport default connect(mapStateToProps)(ImageSelectionDialog);\n","import { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { DEFAULT_FONT, DEFAULT_FONT_SIZE } from '../fontLoader';\nimport { Dispatch, TextInfo, cardSetActiveCardAndPlaceholder, cardSetChangeText } from '../actions';\nimport { State } from '../reducers';\n\ninterface OwnProps {\n    cardId: string;\n    placeholderId: string;\n    align: string;\n    color: string;\n    fontFamily: string;\n    fontVariant: string;\n    fontSize: number;\n}\n\ninterface StateProps {\n    isActive: boolean;\n    textValue: string;\n}\n\ninterface DispatchProps {\n    dispatch: Dispatch;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps;\n\nclass ContentEditable extends Component<Props> {\n    editDiv: React.RefObject<HTMLDivElement>;\n    currentText: string;\n    currentAlign: string;\n    currentColor: string;\n    currentFontFamily: string;\n    currentFontVariant: string;\n    currentFontSize: number;\n    timeout: NodeJS.Timeout | null;\n    wasMoved: boolean;\n\n    constructor(props: Props) {\n        super(props);\n        this.editDiv = React.createRef();\n        this.currentText = '';\n        this.currentAlign = '';\n        this.currentColor = '';\n        this.currentFontFamily = '';\n        this.currentFontVariant = '';\n        this.currentFontSize = DEFAULT_FONT_SIZE;\n        this.timeout = null;\n        this.wasMoved = false;\n    }\n\n    componentDidMount() {\n        const { isActive } = this.props;\n\n        if (!this.editDiv.current) return;\n\n        this.editDiv.current.addEventListener('mousedown', this.handleMouseDown);\n        this.editDiv.current.addEventListener('touchstart', this.handleTouchStart);\n        this.editDiv.current.addEventListener('mousemove', this.handleMouseMove);\n        this.editDiv.current.addEventListener('touchmove', this.handleTouchMove, { passive: false });\n        this.editDiv.current.addEventListener('mouseup', this.handleMouseUp);\n        this.editDiv.current.addEventListener('touchend', this.handleTouchEnd, { passive: false });\n\n        if (isActive) {\n            this.editDiv.current.focus();\n        }\n    }\n\n    shouldComponentUpdate(nextProps: Props) {\n        const shouldUpdate =\n            nextProps.textValue !== this.currentText ||\n            nextProps.align !== this.currentAlign ||\n            nextProps.color !== this.currentColor ||\n            nextProps.fontFamily !== this.currentFontFamily ||\n            nextProps.fontVariant !== this.currentFontVariant ||\n            nextProps.fontSize !== this.currentFontSize ||\n            this.props.isActive !== nextProps.isActive;\n\n        return shouldUpdate;\n    }\n\n    componentDidUpdate() {\n        const { textValue, align, color, fontFamily, fontVariant, fontSize } = this.props;\n        this.currentText = textValue;\n        this.currentAlign = align;\n        this.currentColor = color;\n        this.currentFontFamily = fontFamily;\n        this.currentFontVariant = fontVariant;\n        this.currentFontSize = fontSize;\n    }\n\n    handleMouseDown = (event: MouseEvent) => {\n        this.handleStart(event);\n    };\n\n    handleTouchStart = (event: TouchEvent) => {\n        this.handleStart(event);\n    };\n\n    handleStart = (event: Event) => {\n        const { isActive } = this.props;\n        if (isActive) {\n            event.stopPropagation();\n        } else {\n            this.wasMoved = false;\n            event.preventDefault();\n        }\n    };\n\n    handleMouseMove = (event: MouseEvent) => {\n        this.handleMove(event);\n    };\n\n    handleTouchMove = (event: TouchEvent) => {\n        this.handleMove(event);\n    };\n\n    handleMove = (event: Event) => {\n        const { isActive } = this.props;\n        if (isActive) {\n            event.stopPropagation();\n        } else {\n            this.wasMoved = true;\n            event.preventDefault();\n        }\n    };\n\n    handleMouseUp = (event: MouseEvent) => {\n        this.handleComplete(event);\n    };\n\n    handleTouchEnd = (event: TouchEvent) => {\n        this.handleComplete(event);\n    };\n\n    handleComplete = (event: Event) => {\n        const { dispatch, cardId, placeholderId, isActive } = this.props;\n        if (isActive) {\n            event.stopPropagation();\n        } else if (!this.wasMoved) {\n            event.preventDefault();\n            dispatch(cardSetActiveCardAndPlaceholder(cardId, placeholderId));\n\n            if (!this.editDiv.current) return;\n            this.editDiv.current.focus();\n        }\n    };\n\n    onFocus = () => {\n        if (!this.editDiv.current) return;\n\n        const { textValue, align, color, fontFamily, fontVariant, fontSize } = this.props;\n        this.currentText = textValue;\n        this.currentAlign = align;\n        this.currentColor = color;\n        this.currentFontFamily = fontFamily;\n        this.currentFontVariant = fontVariant;\n        this.currentFontSize = fontSize;\n\n        const range = document.createRange();\n        range.selectNodeContents(this.editDiv.current);\n        range.collapse(false);\n        const selection = window.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n\n    updateContent = (timeoutInMiliseconds: number) => {\n        if (!this.editDiv.current) return;\n        let value = this.editDiv.current.innerHTML;\n        value = value.replace(/<br>/g, '');\n\n        if (value !== this.currentText) {\n            this.currentText = value;\n\n            if (this.timeout) {\n                clearTimeout(this.timeout);\n            }\n\n            this.timeout = setTimeout(() => {\n                const { dispatch, cardId, placeholderId } = this.props;\n                const textInfo: TextInfo = { value };\n\n                dispatch(cardSetChangeText(cardId, placeholderId, textInfo));\n            }, timeoutInMiliseconds);\n        }\n    };\n\n    handleBlur = () => {\n        this.updateContent(0);\n    };\n\n    handleInput = () => {\n        this.updateContent(500);\n    };\n\n    render() {\n        const { color, align, fontFamily, fontVariant, fontSize } = this.props;\n        const isItalic = fontVariant && fontVariant.indexOf('italic') !== -1;\n        const fontWeight = isItalic\n            ? fontVariant === 'italic'\n                ? 400\n                : parseInt(fontVariant.slice(0, 3))\n            : fontVariant === 'regular'\n            ? 400\n            : parseInt(fontVariant);\n\n        return (\n            <div\n                ref={this.editDiv}\n                contentEditable={true}\n                onFocus={this.onFocus}\n                onBlur={this.handleBlur}\n                onInput={this.handleInput}\n                style={{\n                    width: '100%',\n                    height: '100%',\n                    textAlign: align === 'left' ? 'left' : align === 'right' ? 'right' : 'center',\n                    color: color,\n                    fontFamily: `'${fontFamily}'` || DEFAULT_FONT,\n                    fontStyle: isItalic ? 'italic' : 'normal',\n                    fontWeight,\n                    fontSize: `${fontSize}px`,\n                    outline: 'none',\n                    overflowWrap: 'break-word',\n                    lineHeight: 1.27,\n                }}\n                dangerouslySetInnerHTML={{ __html: this.props.textValue }}\n            />\n        );\n    }\n}\n\nconst mapStateToProps = (state: State, props: OwnProps): StateProps => {\n    const textInfo =\n        state.cardsets.texts &&\n        state.cardsets.texts[props.cardId] &&\n        state.cardsets.texts[props.cardId][props.placeholderId]\n            ? state.cardsets.texts[props.cardId][props.placeholderId]\n            : { value: '' };\n    return {\n        textValue: textInfo.value,\n        isActive:\n            props.cardId === state.cardsets.activeCard && props.placeholderId === state.cardsets.activePlaceholder,\n    };\n};\n\nexport default connect<StateProps, DispatchProps, OwnProps, State>(mapStateToProps)(ContentEditable);\n","import { connect } from 'react-redux';\nimport React, { PureComponent } from 'react';\n\nimport {\n    Dispatch,\n    TextPlaceholderType,\n    cardSetChangePlaceholderAngle,\n    cardSetChangePlaceholderPosition,\n    cardSetChangePlaceholderSize,\n} from '../actions';\nimport { State } from '../reducers';\nimport ContentEditable from './ContentEditable';\nimport FieldController from './FieldController';\nimport emptyTextImage from './text.svg';\n\ninterface OwnProps {\n    cardId: string;\n    ppmm: number;\n    textPlaceholder: TextPlaceholderType;\n}\n\ninterface StateProps {\n    text: string;\n}\n\ninterface DispatchProps {\n    dispatch: Dispatch;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps;\n\nclass TextField extends PureComponent<Props> {\n    handleDrag = (x: number, y: number) => {\n        const { dispatch, textPlaceholder, ppmm } = this.props;\n        dispatch(cardSetChangePlaceholderPosition(textPlaceholder, x / ppmm, y / ppmm));\n    };\n\n    handleResize = (width: number, height: number) => {\n        const { dispatch, textPlaceholder, ppmm } = this.props;\n        dispatch(cardSetChangePlaceholderSize(textPlaceholder, width / ppmm, height / ppmm));\n    };\n\n    handleRotate = (angle: number) => {\n        const { dispatch, textPlaceholder } = this.props;\n        dispatch(cardSetChangePlaceholderAngle(textPlaceholder, angle));\n    };\n\n    render() {\n        const { textPlaceholder, text, ppmm } = this.props;\n\n        return (\n            <FieldController\n                cardId={this.props.cardId}\n                placeholderId={textPlaceholder.id}\n                x={textPlaceholder.x * ppmm}\n                y={textPlaceholder.y * ppmm}\n                width={textPlaceholder.width * ppmm}\n                height={textPlaceholder.height * ppmm}\n                angle={textPlaceholder.angle}\n                onDrag={this.handleDrag}\n                onResize={this.handleResize}\n                onRotate={this.handleRotate}\n            >\n                {text === '' && (\n                    <div\n                        style={{\n                            width: '100%',\n                            height: '100%',\n                            position: 'fixed',\n                            left: 0,\n                            top: 0,\n                            zIndex: -1,\n                            textAlign:\n                                textPlaceholder.align === 'left'\n                                    ? 'left'\n                                    : textPlaceholder.align === 'right'\n                                    ? 'right'\n                                    : 'center',\n                        }}\n                    >\n                        <img style={{ opacity: 0.5, width: 'auto', height: '100%' }} src={emptyTextImage} alt=\"\" />\n                    </div>\n                )}\n\n                <ContentEditable\n                    cardId={this.props.cardId}\n                    placeholderId={textPlaceholder.id}\n                    align={textPlaceholder.align}\n                    color={textPlaceholder.color}\n                    fontFamily={textPlaceholder.fontFamily}\n                    fontVariant={textPlaceholder.fontVariant}\n                    fontSize={textPlaceholder.fontSize * ppmm}\n                />\n            </FieldController>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State, props: OwnProps): StateProps => {\n    let text =\n        state.cardsets.texts &&\n        state.cardsets.texts[props.cardId] &&\n        state.cardsets.texts[props.cardId][props.textPlaceholder.id]\n            ? state.cardsets.texts[props.cardId][props.textPlaceholder.id].value\n            : '';\n    return {\n        text,\n    };\n};\n\nexport default connect<StateProps, DispatchProps, OwnProps, State>(mapStateToProps)(TextField);\n","import { connect } from 'react-redux';\nimport Measure from 'react-measure';\nimport React, { Component } from 'react';\n\nimport {\n    CardType,\n    Dispatch,\n    PlaceholderType,\n    PlaceholdersCollection,\n    cardSetActiveCardAndPlaceholder,\n    cardSetAddImagePlaceholder,\n    cardSetAddTextPlaceholder,\n    cardSetChangeActiveTextPlaceholderAlign,\n    cardSetCloneCard,\n    cardSetRemoveActivePlaceholder,\n    cardSetRemoveCard,\n    cardSetUpdateCardCount,\n} from '../actions';\nimport { State } from '../reducers';\nimport ColorButton from './ColorButton';\nimport FontSelector from './FontSelector';\nimport ImageField from './ImageField';\nimport ImageSelectionDialog from './ImageSelectionDialog';\nimport TextField from './TextField';\nimport style from './Card.module.css';\n\ninterface OwnProps {\n    card: CardType;\n}\n\ninterface StateProps {\n    placeholders: PlaceholdersCollection;\n    width: number;\n    height: number;\n    activePlaceholder: PlaceholderType | null;\n    imageUrl: string;\n}\n\ninterface DispatchProps {\n    dispatch: Dispatch;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps;\n\ninterface LocalState {\n    dimensions: {\n        width: number;\n        height: number;\n    };\n    imageSelectionDialogIsOpen: boolean;\n}\n\nclass Card extends Component<Props, LocalState> {\n    state = {\n        dimensions: {\n            width: -1,\n            height: -1,\n        },\n        imageSelectionDialogIsOpen: false,\n    };\n\n    handleRemoveCardClick = () => {\n        const { card, dispatch } = this.props;\n        dispatch(cardSetRemoveCard(card));\n    };\n\n    handleCloneCardClick = () => {\n        const { card, dispatch } = this.props;\n        dispatch(cardSetCloneCard(card));\n    };\n\n    handleCountChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { card, dispatch } = this.props;\n        dispatch(cardSetUpdateCardCount(card, parseInt(event.target.value)));\n    };\n\n    handleAddTextClick = () => {\n        const { dispatch } = this.props;\n        dispatch(cardSetAddTextPlaceholder());\n    };\n\n    handleAddImageClick = () => {\n        const { dispatch } = this.props;\n        dispatch(cardSetAddImagePlaceholder());\n    };\n\n    handleRemoveClick = () => {\n        const { activePlaceholder, dispatch } = this.props;\n        if (activePlaceholder !== null) {\n            dispatch(cardSetRemoveActivePlaceholder());\n        }\n    };\n\n    handleChangeImage = () => {\n        const { activePlaceholder } = this.props;\n        if (activePlaceholder !== null && activePlaceholder.type === 'image') {\n            this.setState({ imageSelectionDialogIsOpen: true });\n        }\n    };\n\n    handleImageSelectionDialogClose = () => {\n        this.setState({ imageSelectionDialogIsOpen: false });\n    };\n\n    handleSetTextAlignLeft = () => {\n        const { dispatch } = this.props;\n        dispatch(cardSetChangeActiveTextPlaceholderAlign('left'));\n    };\n\n    handleSetTextAlignCenter = () => {\n        const { dispatch } = this.props;\n        dispatch(cardSetChangeActiveTextPlaceholderAlign('center'));\n    };\n\n    handleSetTextAlignRight = () => {\n        const { dispatch } = this.props;\n        dispatch(cardSetChangeActiveTextPlaceholderAlign('right'));\n    };\n\n    handleFieldDeselect = (event: React.MouseEvent | React.TouchEvent) => {\n        const { dispatch, card } = this.props;\n        const el = event.target as HTMLElement;\n        if (el.getAttribute('id') === `card_${card.id}`) {\n            dispatch(cardSetActiveCardAndPlaceholder(null, null));\n        }\n    };\n\n    render() {\n        const { placeholders, card, width, height, imageUrl, activePlaceholder } = this.props;\n        const ppmm = this.state.dimensions.width / width;\n        const imageSelected = activePlaceholder !== null && activePlaceholder.type === 'image';\n\n        return (\n            <Measure\n                client\n                onResize={contentRect => {\n                    if (!contentRect.client) {\n                        return;\n                    }\n                    this.setState({ dimensions: contentRect.client });\n                }}\n            >\n                {({ measureRef }) => (\n                    <div className={style.card}>\n                        <div\n                            className={style.cardWorkarea}\n                            id={`card_${card.id}`}\n                            ref={measureRef}\n                            style={{\n                                width: `${width}mm`,\n                                height: `${height}mm`,\n                                position: 'relative',\n                                overflow: 'hidden',\n                            }}\n                            onMouseDown={this.handleFieldDeselect}\n                            onTouchStart={this.handleFieldDeselect}\n                        >\n                            {Object.values(placeholders).map(p => {\n                                if (p.type === 'image') {\n                                    return <ImageField key={p.id} cardId={card.id} imagePlaceholder={p} ppmm={ppmm} />;\n                                } else if (p.type === 'text') {\n                                    return <TextField key={p.id} cardId={card.id} textPlaceholder={p} ppmm={ppmm} />;\n                                }\n                                return null;\n                            })}\n                        </div>\n\n                        <div>\n                            <button onClick={this.handleAddImageClick} title=\"Add image field\">\n                                <i className=\"material-icons\">add_photo_alternate</i>\n                            </button>\n                            <button onClick={this.handleAddTextClick} title=\"Add text field\">\n                                <i className=\"material-icons\">text_fields</i>\n                            </button>\n\n                            <button onClick={this.handleCloneCardClick} title=\"Clone card\">\n                                <i className=\"material-icons\">file_copy</i>\n                            </button>\n                            <input\n                                type=\"number\"\n                                value={card.count.toString()}\n                                onChange={this.handleCountChange}\n                                title=\"Number of card's copies\"\n                            />\n                            <button onClick={this.handleRemoveCardClick} title=\"Remove card\">\n                                <i className=\"material-icons\">delete</i>\n                            </button>\n                        </div>\n\n                        <div>\n                            <button onClick={this.handleSetTextAlignLeft} title=\"Align text left\">\n                                <i className=\"material-icons\">format_align_left</i>\n                            </button>\n                            <button onClick={this.handleSetTextAlignCenter} title=\"Align text center\">\n                                <i className=\"material-icons\">format_align_center</i>\n                            </button>\n                            <button onClick={this.handleSetTextAlignRight} title=\"Align text right\">\n                                <i className=\"material-icons\">format_align_right</i>\n                            </button>\n                            <ColorButton />\n                            <FontSelector />\n\n                            <button\n                                className={imageSelected ? '' : style.disabled}\n                                onClick={this.handleChangeImage}\n                                title=\"Change image\"\n                            >\n                                <i className=\"material-icons\">photo</i>\n                            </button>\n\n                            <ImageSelectionDialog\n                                imageUrl={imageUrl}\n                                cardId={card.id}\n                                placeholderId={activePlaceholder !== null ? activePlaceholder.id : ''}\n                                onClose={this.handleImageSelectionDialogClose}\n                                isOpen={this.state.imageSelectionDialogIsOpen}\n                            />\n\n                            <button\n                                className={activePlaceholder === null ? style.disabled : ''}\n                                onClick={this.handleRemoveClick}\n                                title=\"Remove field\"\n                            >\n                                <i className=\"material-icons\">remove</i>\n                            </button>\n                        </div>\n                    </div>\n                )}\n            </Measure>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State, props: OwnProps): StateProps => {\n    const activePlaceholder =\n        state.cardsets.activePlaceholder !== null\n            ? state.cardsets.placeholders[state.cardsets.activePlaceholder]\n            : null;\n\n    const imageUrl =\n        state.cardsets.images &&\n        state.cardsets.images[props.card.id] &&\n        activePlaceholder !== null &&\n        activePlaceholder.type === 'image' &&\n        state.cardsets.images[props.card.id][activePlaceholder.id]\n            ? state.cardsets.images[props.card.id][activePlaceholder.id].url\n            : '';\n    return {\n        placeholders: state.cardsets.placeholders,\n        width: state.cardsets.width,\n        height: state.cardsets.height,\n        activePlaceholder,\n        imageUrl,\n    };\n};\n\nexport default connect<StateProps, DispatchProps, OwnProps, State>(mapStateToProps)(Card);\n","import React, { Component } from 'react';\n\nimport style from './Loader.module.css';\n\ninterface Props {\n    fixed?: boolean;\n}\n\nexport default class Loader extends Component<Props> {\n    render() {\n        const { fixed } = this.props;\n\n        return (\n            <div className={`${style.loader} ${fixed ? style.fixed : style.relative}`}>\n                <div />\n                <div />\n            </div>\n        );\n    }\n}\n","import { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport shortid from 'shortid';\n\nimport { ACTIVITY_CREATING_PDF, ACTIVITY_SELECTING, ACTIVITY_UPDATING, State } from '../reducers';\nimport {\n    CardType,\n    CardsCollection,\n    Dispatch,\n    cardSetChangeHeight,\n    cardSetChangeWidth,\n    cardSetCreateCard,\n    gameCreatePdfRequest,\n} from '../actions';\nimport Card from './Card';\nimport KawaiiMessage, { Character } from './KawaiiMessage';\nimport Loader from './Loader';\nimport style from './CardSet.module.css';\n\ninterface StateProps {\n    width: number;\n    height: number;\n    isAuthenticated: boolean;\n    cardsAllIds: string[];\n    cardsById: CardsCollection;\n    isCreatingPdf: boolean;\n    activity: number;\n}\n\ninterface DispatchProps {\n    dispatch: Dispatch;\n}\n\ntype Props = StateProps & DispatchProps;\n\ninterface LocalState {\n    pageWidth: number;\n    pageHeight: number;\n    topBottomMargin: number;\n    leftRightMargin: number;\n}\n\nexport class CardSet extends Component<Props, LocalState> {\n    state = {\n        pageWidth: 210,\n        pageHeight: 297,\n        topBottomMargin: 15,\n        leftRightMargin: 9,\n    };\n\n    handleCreateCardClick = () => {\n        const { dispatch } = this.props;\n\n        const newCard: CardType = { id: shortid.generate(), count: 1 };\n\n        dispatch(cardSetCreateCard(newCard));\n    };\n\n    handleGeneratePdfClick = () => {\n        const { dispatch } = this.props;\n        const { pageWidth, pageHeight, topBottomMargin, leftRightMargin } = this.state;\n\n        dispatch(gameCreatePdfRequest(pageWidth, pageHeight, topBottomMargin, leftRightMargin));\n    };\n\n    handleWidthChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { dispatch } = this.props;\n        dispatch(cardSetChangeWidth(parseFloat(event.target.value)));\n    };\n\n    handleHeightChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { dispatch } = this.props;\n        dispatch(cardSetChangeHeight(parseFloat(event.target.value)));\n    };\n\n    handlePageWidthChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ pageWidth: parseFloat(event.target.value) });\n    };\n\n    handlePageHeightChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ pageHeight: parseFloat(event.target.value) });\n    };\n\n    handleTopBottomMarginChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ topBottomMargin: parseFloat(event.target.value) });\n    };\n\n    handleLeftRightMarginChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ leftRightMargin: parseFloat(event.target.value) });\n    };\n\n    render() {\n        const { isAuthenticated, cardsAllIds, cardsById, width, height, isCreatingPdf, activity } = this.props;\n\n        return (\n            isAuthenticated && (\n                <div>\n                    {(activity & ACTIVITY_UPDATING) === ACTIVITY_UPDATING && <Loader fixed={true} />}\n                    <KawaiiMessage character={Character.Ghost}>\n                        <p>Here you can design your cards.</p>\n                    </KawaiiMessage>\n                    <div className=\"form\">\n                        <label htmlFor=\"card_width\">Card width (mm):</label>\n                        <input\n                            id=\"card_width\"\n                            type=\"number\"\n                            min=\"0\"\n                            step=\"0.1\"\n                            onChange={this.handleWidthChange}\n                            className=\"form-control\"\n                            placeholder=\"width\"\n                            value={width}\n                        />\n                        <label htmlFor=\"card_height\">Card height (mm):</label>\n                        <input\n                            id=\"card_height\"\n                            type=\"number\"\n                            min=\"0\"\n                            step=\"0.1\"\n                            onChange={this.handleHeightChange}\n                            className=\"form-control\"\n                            placeholder=\"height\"\n                            value={height}\n                        />\n                    </div>\n                    {(activity & ACTIVITY_SELECTING) === ACTIVITY_SELECTING && <Loader />}\n                    <div className={style.cardset}>\n                        <ul\n                            style={{\n                                gridTemplateColumns: `repeat(auto-fill, minmax(${width}mm, 1fr))`,\n                            }}\n                        >\n                            {cardsAllIds &&\n                                cardsAllIds.map(cardId => (\n                                    <li key={cardId}>\n                                        <Card card={cardsById[cardId]} />\n                                    </li>\n                                ))}\n                        </ul>\n                    </div>\n                    <div className=\"form\">\n                        <button onClick={this.handleCreateCardClick}>Create Card</button>\n                    </div>\n\n                    <KawaiiMessage character={Character.Ghost} mood=\"excited\">\n                        <p>Here you can generate PDF for your cardset.</p>\n                        <p>Hint 1: A4 page size is 210 mm x 297 mm. Letter page size is 215.9 x 279.4 mm.</p>\n                        <p>Hint 2: 1 inch is equal to 25.4 mm.</p>\n                    </KawaiiMessage>\n\n                    <div className=\"form\">\n                        <label htmlFor=\"page_width\">Page width (mm):</label>\n                        <input\n                            id=\"page_width\"\n                            type=\"number\"\n                            onChange={this.handlePageWidthChange}\n                            placeholder=\"Page width\"\n                            value={this.state.pageWidth}\n                        />\n                        <label htmlFor=\"page_height\">Page height (mm):</label>\n                        <input\n                            id=\"page_height\"\n                            type=\"number\"\n                            onChange={this.handlePageHeightChange}\n                            placeholder=\"Page Height\"\n                            value={this.state.pageHeight}\n                        />\n                        <label htmlFor=\"page_topbottom_margin\">Margin from top/bottom (mm):</label>\n                        <input\n                            id=\"page_topbottom_margin\"\n                            type=\"number\"\n                            onChange={this.handleTopBottomMarginChange}\n                            placeholder=\"Top/Bottom margin\"\n                            value={this.state.topBottomMargin}\n                        />\n                        <label htmlFor=\"page_leftright_margin\">Margin from left/right (mm):</label>\n                        <input\n                            id=\"page_leftright_margin\"\n                            type=\"number\"\n                            onChange={this.handleLeftRightMarginChange}\n                            placeholder=\"Left/Right margin\"\n                            value={this.state.leftRightMargin}\n                        />\n                        <button disabled={isCreatingPdf} onClick={this.handleGeneratePdfClick}>\n                            Generate PDF\n                        </button>\n                    </div>\n                </div>\n            )\n        );\n    }\n}\n\nconst mapStateToProps = (state: State): StateProps => {\n    return {\n        activity: state.cardsets.activity,\n        width: state.cardsets.width,\n        height: state.cardsets.height,\n        isAuthenticated: state.auth.isAuthenticated,\n        cardsAllIds: state.cardsets.cardsAllIds,\n        cardsById: state.cardsets.cardsById,\n        isCreatingPdf: (state.games.activity & ACTIVITY_CREATING_PDF) === ACTIVITY_CREATING_PDF,\n    };\n};\n\nexport default connect<StateProps, DispatchProps, {}, State>(mapStateToProps)(CardSet);\n","import { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { Dispatch, cardSetSelectRequest } from './actions';\nimport { State } from './reducers';\nimport CardSet from './components/CardSet';\n\ninterface Props {\n    dispatch: Dispatch;\n    match: { params: { id: string } };\n    isAuthenticated: boolean;\n}\n\nexport class CardSetPage extends Component<Props> {\n    componentDidMount() {\n        const { dispatch, match } = this.props;\n        dispatch(cardSetSelectRequest(match.params.id));\n    }\n\n    render() {\n        return <CardSet />;\n    }\n}\n\nconst mapStateToProps = (state: State) => ({ isAuthenticated: state.auth.isAuthenticated });\n\nexport default connect(mapStateToProps)(CardSetPage);\n","import React, { Component } from 'react';\n\nexport default class ChangelogPage extends Component {\n    render() {\n        return (\n            <div>\n                <p>Here you can find list of future plans and what was implemented recently.</p>\n                <h2>Future plans</h2>\n                <ul>\n                    <li>\n                        Image improvements:\n                        <ul>\n                            <li>Upload your own images.</li>\n                            <li>Change color of images (for SVG images).</li>\n                            <li>Generating list of author's of icons if attribution is required.</li>\n                            <li>Various ideas for advances images controls.</li>\n                        </ul>\n                    </li>\n                    <li>Card templates.</li>\n                    <li>Two-sided cards.</li>\n                    <li>UI improvements (snapping, field lock, keyboard support and etc.).</li>\n                    <li>PDF generation for all the game.</li>\n                    <li>Backgrounds support.</li>\n                    <li>Data export/import from JSON and CSV.</li>\n                    <li>Possibility to order your games for printing from various printing providers.</li>\n                </ul>\n                <h2>2019-02-23</h2>\n                <ul>\n                    <li>Text rendering changed and should be working properly now.</li>\n                    <li>Crash with new card set fixed.</li>\n                    <li>Minor UI improvements.</li>\n                </ul>\n                <h2>2019-02-17</h2>\n                <p>Initial public version.</p>\n            </div>\n        );\n    }\n}\n","import React, { Component } from 'react';\n\nimport KawaiiMessage, { Character } from './components/KawaiiMessage';\n\ninterface Props {\n    children: React.ReactNode;\n}\n\ninterface State {\n    hasError: boolean;\n}\n\nexport default class ErrorBoundary extends Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = { hasError: false };\n    }\n\n    componentDidCatch() {\n        this.setState({ hasError: true });\n        // You can also log the error to an error reporting service\n        // logErrorToMyService(error, info);\n    }\n\n    render() {\n        if (this.state.hasError) {\n            return (\n                <KawaiiMessage character={Character.Browser} mood=\"ko\">\n                    Something unexpected has happened. If you want this problem to be fixed write me to{' '}\n                    <a href=\"mailto:dalius@ffff.lt\">dalius@ffff.lt</a>.\n                </KawaiiMessage>\n            );\n        }\n        return this.props.children;\n    }\n}\n","import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { CardSetsCollection, Dispatch, IdsArray, cardSetCreateRequest, messageRequest } from '../actions';\nimport { State } from '../reducers';\nimport KawaiiMessage, { Character } from './KawaiiMessage';\n\ninterface Props {\n    dispatch: Dispatch;\n    isAuthenticated: boolean;\n    activeGame: string | null;\n    allIds: IdsArray;\n    byId: CardSetsCollection;\n}\n\ninterface LocalState {\n    cardSetName: string;\n    width: number;\n    height: number;\n}\n\nexport class CardSets extends Component<Props, LocalState> {\n    state: LocalState = {\n        cardSetName: '',\n        width: 63.5,\n        height: 88.9,\n    };\n\n    handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ cardSetName: event.target.value });\n    };\n\n    handleWidthChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ width: parseFloat(event.target.value) });\n    };\n\n    handleHeightChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ height: parseFloat(event.target.value) });\n    };\n\n    handleCreateCardSetClick = () => {\n        const { dispatch, activeGame } = this.props;\n\n        if (activeGame === null) {\n            return;\n        }\n\n        const cardSetName = this.state.cardSetName.trim();\n\n        if (cardSetName) {\n            dispatch(cardSetCreateRequest(cardSetName, this.state.width, this.state.height, activeGame));\n        } else {\n            dispatch(messageRequest('error', 'Card Set name should be non empty.'));\n        }\n    };\n\n    render() {\n        const { isAuthenticated, activeGame, allIds, byId } = this.props;\n\n        const cardsetItems = allIds\n            .map(gameId => byId[gameId])\n            .map(cardset => (\n                <li key={cardset.id}>\n                    <Link to={`/cardset/${cardset.id}`}>{cardset.name}</Link>\n                </li>\n            ));\n\n        return (\n            isAuthenticated &&\n            activeGame !== null && (\n                <div>\n                    <KawaiiMessage character={Character.Ghost}>\n                        Each game is made from card sets. Card set is collection of cards that share the same properties\n                        but have different text and images.\n                    </KawaiiMessage>\n\n                    <ul>{cardsetItems}</ul>\n\n                    <div className=\"form\">\n                        <label htmlFor=\"cardset_name\">Card Set name:</label>\n                        <input\n                            id=\"cardset_name\"\n                            type=\"text\"\n                            onChange={this.handleChange}\n                            className=\"form-control\"\n                            placeholder=\"Card Set name\"\n                        />\n                        <label htmlFor=\"card_width\">Card width:</label>\n                        <input\n                            id=\"card_width\"\n                            type=\"number\"\n                            min=\"0\"\n                            step=\"0.1\"\n                            onChange={this.handleWidthChange}\n                            className=\"form-control\"\n                            placeholder=\"Card width\"\n                            value={this.state.width}\n                        />\n                        <label htmlFor=\"card_height\">Card height:</label>\n                        <input\n                            id=\"card_height\"\n                            type=\"number\"\n                            min=\"0\"\n                            step=\"0.1\"\n                            onChange={this.handleHeightChange}\n                            className=\"form-control\"\n                            placeholder=\"Card height\"\n                            value={this.state.height}\n                        />\n                        <button onClick={this.handleCreateCardSetClick}>Create Card Set</button>\n                    </div>\n\n                    <KawaiiMessage character={Character.Ghost} mood=\"excited\">\n                        Hint: Poker card size 63.5mm x 88.9mm. Bridge card size 56mm x 88.9mm. But you can cards of any\n                        size.\n                    </KawaiiMessage>\n                </div>\n            )\n        );\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        isAuthenticated: state.auth.isAuthenticated,\n        activeGame: state.games.active,\n        allIds: state.cardsets.allIds,\n        byId: state.cardsets.byId,\n    };\n};\n\nexport default connect(mapStateToProps)(CardSets);\n","import { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { Dispatch, gameSelectRequest } from './actions';\nimport { State } from './reducers';\nimport CardSets from './components/CardSets';\n\ninterface Props {\n    dispatch: Dispatch;\n    match: { params: { id: string } };\n    isAuthenticated: boolean;\n}\n\nexport class GamePage extends Component<Props> {\n    componentDidMount() {\n        const { dispatch, match } = this.props;\n        dispatch(gameSelectRequest(match.params.id, true));\n    }\n\n    render() {\n        return <CardSets />;\n    }\n}\n\nconst mapStateToProps = (state: State) => ({ isAuthenticated: state.auth.isAuthenticated });\n\nexport default connect(mapStateToProps)(GamePage);\n","import React, { Component } from 'react';\n\ninterface Props {\n    onLogin: (creds: { username: string; password: string }) => void;\n    onLoginFailure: (message: string) => void;\n}\n\ninterface LocalState {\n    username: string;\n    password: string;\n}\n\nexport default class Login extends Component<Props, LocalState> {\n    state = {\n        username: '',\n        password: '',\n    };\n\n    handleUsernameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ username: event.target.value });\n    };\n\n    handlePasswordChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ password: event.target.value });\n    };\n\n    handleSubmit = (event: React.FormEvent) => {\n        const username = this.state.username.trim();\n        const password = this.state.password.trim();\n        if (username && password) {\n            const creds = { username, password };\n            this.props.onLogin(creds);\n        } else {\n            this.props.onLoginFailure('Missing username and/or password.');\n        }\n        event.preventDefault();\n    };\n\n    render() {\n        return (\n            <div>\n                <form className=\"form\" onSubmit={this.handleSubmit}>\n                    <input\n                        type=\"text\"\n                        onChange={this.handleUsernameChange}\n                        className=\"form-control\"\n                        placeholder=\"Username\"\n                    />\n                    <input\n                        type=\"password\"\n                        onChange={this.handlePasswordChange}\n                        className=\"form-control\"\n                        placeholder=\"Password\"\n                    />\n                    <input type=\"submit\" value=\"Login\" />\n                </form>\n            </div>\n        );\n    }\n}\n","import { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { Dispatch, loginRequest, messageRequest } from './actions';\nimport { State } from './reducers';\nimport KawaiiMessage, { Character } from './components/KawaiiMessage';\nimport Login from './components/Login';\n\ninterface Props {\n    dispatch: Dispatch;\n    isAuthenticated: boolean;\n}\n\nexport class LoginPage extends Component<Props> {\n    render() {\n        const { dispatch, isAuthenticated } = this.props;\n\n        return (\n            <div className=\"App\">\n                {!isAuthenticated && (\n                    <>\n                        <KawaiiMessage character={Character.Ghost}>\n                            Please enter your credentials to login. If you don't have account yet then you can create\n                            one here: <a href=\"/signup\">Sign-up</a>.\n                        </KawaiiMessage>\n\n                        <Login\n                            onLogin={creds => dispatch(loginRequest(creds))}\n                            onLoginFailure={msg => dispatch(messageRequest('error', msg))}\n                        />\n                    </>\n                )}\n                {isAuthenticated && <Redirect to=\"/\" />}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State) => ({ isAuthenticated: state.auth.isAuthenticated });\n\nexport default connect(mapStateToProps)(LoginPage);\n","import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { Dispatch, GamesCollection, IdsArray, gameCreateRequest, messageRequest } from '../actions';\nimport { State } from '../reducers';\nimport KawaiiMessage, { Character } from './KawaiiMessage';\n\ninterface Props {\n    dispatch: Dispatch;\n    isAuthenticated: boolean;\n    allIds: IdsArray;\n    byId: GamesCollection;\n}\n\ninterface LocalState {\n    gameName: string;\n}\n\nexport class Games extends Component<Props, LocalState> {\n    state: LocalState = {\n        gameName: '',\n    };\n\n    handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ gameName: event.target.value });\n    };\n\n    handleCreateGameClick = () => {\n        const { dispatch } = this.props;\n\n        const gamename = this.state.gameName.trim();\n        if (gamename) {\n            dispatch(gameCreateRequest(gamename));\n        } else {\n            dispatch(messageRequest('error', 'Game name should be non empty.'));\n        }\n    };\n\n    render() {\n        const { isAuthenticated, allIds, byId } = this.props;\n\n        const gameItems = allIds\n            .map(gameId => byId[gameId])\n            .map(game => (\n                <li key={game.id}>\n                    <Link to={`/game/${game.id}`}>{game.name}</Link>\n                </li>\n            ));\n\n        return (\n            isAuthenticated && (\n                <div>\n                    <KawaiiMessage character={Character.Ghost}>\n                        {allIds.length === 0 && (\n                            <>Here you can create your games and see list of your games when you have some.</>\n                        )}\n                        {allIds.length > 0 && (\n                            <>Here you can see a list of your games or you can create even more games.</>\n                        )}\n                    </KawaiiMessage>\n\n                    <ul>{gameItems}</ul>\n                    <div className=\"form\">\n                        <label htmlFor=\"game_name\">Game name:</label>\n                        <input\n                            id=\"game_name\"\n                            type=\"text\"\n                            onChange={this.handleChange}\n                            className=\"form-control\"\n                            placeholder=\"Game name\"\n                        />\n                        <button onClick={this.handleCreateGameClick}>Create Game</button>\n                    </div>\n                </div>\n            )\n        );\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        isAuthenticated: state.auth.isAuthenticated,\n        allIds: state.games.allIds,\n        byId: state.games.byId,\n    };\n};\n\nexport default connect(mapStateToProps)(Games);\n","import { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { State } from './reducers';\nimport Games from './components/Games';\nimport KawaiiMessage, { Character } from './components/KawaiiMessage';\n\ninterface Props {\n    isAuthenticated: boolean;\n}\n\nexport class Main extends Component<Props> {\n    render() {\n        if (this.props.isAuthenticated) {\n            return <Games />;\n        } else {\n            return (\n                <KawaiiMessage character={Character.Ghost}>\n                    Hey! Here you can create your own card game but you need to <a href=\"/login\">Login</a> or{' '}\n                    <a href=\"/signup\">Sign-up</a> first.\n                </KawaiiMessage>\n            );\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        isAuthenticated: state.auth.isAuthenticated,\n    };\n};\n\nexport default connect(mapStateToProps)(Main);\n","import { State } from './reducers';\n\nexport const getActiveGame = (state: State) => (state.games.active ? state.games.byId[state.games.active] : null);\n\nexport const getActiveCardSet = (state: State) =>\n    state.cardsets.active ? state.cardsets.byId[state.cardsets.active] : null;\n","import React from 'react';\n\ninterface Props {\n    onLogout: () => void;\n}\n\nfunction Logout(props: Props) {\n    return (\n        <button onClick={() => props.onLogout()} className=\"btn btn-primary\">\n            Logout\n        </button>\n    );\n}\n\nexport default Logout;\n","import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { CardSetType, Dispatch, GameType, MessageType, logoutRequest } from '../actions';\nimport { State } from '../reducers';\nimport { getActiveCardSet, getActiveGame } from '../selectors';\nimport Logout from './Logout';\nimport style from './Navbar.module.css';\n\ninterface OwnProps {\n    isAuthenticated: boolean;\n}\n\ninterface StateProps {\n    messages: MessageType[];\n    activeGame: GameType | null;\n    activeCardSet: CardSetType | null;\n}\n\ninterface DispatchProps {\n    dispatch: Dispatch;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps;\n\nexport class Navbar extends Component<Props> {\n    render() {\n        const { dispatch, isAuthenticated, messages, activeGame, activeCardSet } = this.props;\n\n        return (\n            <nav>\n                <div id=\"messages\" className={style.messages}>\n                    <ul>\n                        {messages.map(m => (\n                            <li key={m.id}>\n                                <i className=\"material-icons\">error</i> {m.text}\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n                <div>\n                    <h1 className={style.header}>\n                        <Link to=\"/\">CARD-A-MON</Link>\n                    </h1>\n                    <div>\n                        <ul className={style.menu}>\n                            {isAuthenticated && (\n                                <>\n                                    <li>\n                                        <Link to=\"/\">Main</Link>\n                                    </li>\n                                    {activeGame && (\n                                        <li>\n                                            <Link to={`/game/${activeGame.id}`}>Game \"{activeGame.name}\"</Link>\n                                        </li>\n                                    )}\n                                    {activeCardSet && (\n                                        <li>\n                                            <Link to={`/cardset/${activeCardSet.id}`}>\n                                                Card Set \"{activeCardSet.name}\"\n                                            </Link>\n                                        </li>\n                                    )}\n                                </>\n                            )}\n                            <li>\n                                <Link to=\"/changelog\">Changelog</Link>\n                            </li>\n                            <li>\n                                <Link to=\"/about\">About</Link>\n                            </li>\n                            {isAuthenticated && (\n                                <li>\n                                    <Logout onLogout={() => dispatch(logoutRequest())} />\n                                </li>\n                            )}\n                            {!isAuthenticated && (\n                                <>\n                                    <li>\n                                        <Link to=\"/login\">Login</Link>\n                                    </li>\n                                    <li>\n                                        <Link to=\"/signup\">Sign-up</Link>\n                                    </li>\n                                </>\n                            )}\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        isAuthenticated: state.auth.isAuthenticated,\n        messages: state.message.messages,\n        activeGame: getActiveGame(state),\n        activeCardSet: getActiveCardSet(state),\n    };\n};\n\nexport default connect<StateProps, DispatchProps, OwnProps, State>(mapStateToProps)(Navbar);\n","import React, { Component } from 'react';\n\nimport KawaiiMessage, { Character } from './components/KawaiiMessage';\n\nexport default class NotFoundPage extends Component {\n    render() {\n        return (\n            <KawaiiMessage character={Character.Browser} mood=\"sad\">\n                There is nothing here.\n            </KawaiiMessage>\n        );\n    }\n}\n","import { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { Credentials, Dispatch, messageRequest } from '../actions';\n\ninterface Props {\n    dispatch: Dispatch;\n    onSignUp: (cred: Credentials) => void;\n}\n\nexport class SignUp extends Component<Props> {\n    state = {\n        username: '',\n        password: '',\n        passwordRepeat: '',\n    };\n\n    handleSubmit(event: React.FormEvent) {\n        const { dispatch, onSignUp } = this.props;\n\n        if (this.state.password !== this.state.passwordRepeat) {\n            dispatch(messageRequest('error', 'Passwords do not match.'));\n        } else {\n            const creds = {\n                username: this.state.username.trim(),\n                password: this.state.password.trim(),\n            };\n            onSignUp(creds);\n        }\n\n        event.preventDefault();\n    }\n\n    handleUsernameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ username: event.target.value });\n    };\n\n    handlePasswordChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ password: event.target.value });\n    };\n\n    handlePasswordRepeatChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ passwordRepeat: event.target.value });\n    };\n\n    render() {\n        return (\n            <div>\n                <form className=\"form\" onSubmit={event => this.handleSubmit(event)}>\n                    <input\n                        type=\"text\"\n                        onChange={this.handleUsernameChange}\n                        className=\"form-control\"\n                        placeholder=\"Username\"\n                    />\n                    <input\n                        type=\"password\"\n                        onChange={this.handlePasswordChange}\n                        className=\"form-control\"\n                        placeholder=\"Password\"\n                    />\n                    <input\n                        type=\"password\"\n                        onChange={this.handlePasswordRepeatChange}\n                        className=\"form-control\"\n                        placeholder=\"Repeat password here\"\n                    />\n                    <input type=\"submit\" value=\"Sign Up\" />\n                </form>\n            </div>\n        );\n    }\n}\nexport default connect()(SignUp);\n","import { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { Dispatch, signupRequest } from './actions';\nimport { State } from './reducers';\nimport KawaiiMessage, { Character } from './components/KawaiiMessage';\nimport SignUp from './components/SignUp';\n\ninterface Props {\n    dispatch: Dispatch;\n    isAuthenticated: boolean;\n}\n\nexport class SignUpPage extends Component<Props> {\n    render() {\n        const { dispatch, isAuthenticated } = this.props;\n\n        return (\n            <div className=\"App\">\n                {!isAuthenticated && (\n                    <>\n                        <KawaiiMessage character={Character.Ghost}>\n                            Create your user here. Instead of user name you can use your e-mail. If you forget your\n                            password then you can send me e-mail (I will not send you any e-mails without your consent).\n                            If you use regular user name and forget your password then you will not be able to access\n                            your account.\n                        </KawaiiMessage>\n\n                        <SignUp onSignUp={creds => dispatch(signupRequest(creds))} />\n                    </>\n                )}\n                {isAuthenticated && <Redirect to=\"/\" />}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State) => ({ isAuthenticated: state.auth.isAuthenticated });\n\nexport default connect(mapStateToProps)(SignUpPage);\n","import './App.css';\n\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport { Dispatch, initRequest } from './actions';\nimport { State } from './reducers';\nimport AboutPage from './AboutPage';\nimport CardSetPage from './CardSetPage';\nimport ChangelogPage from './ChangelogPage';\nimport ErrorBoundry from './ErrorBoundry';\nimport GamePage from './GamePage';\nimport LoginPage from './LoginPage';\nimport Main from './Main';\nimport Navbar from './components/Navbar';\nimport NotFoundPage from './NotFoundPage';\nimport SignUpPage from './SignUpPage';\n\ninterface Props {\n    dispatch: Dispatch;\n    isAuthenticated: boolean;\n}\n\nexport class App extends Component<Props> {\n    componentDidMount() {\n        this.props.dispatch(initRequest());\n    }\n\n    render() {\n        const { isAuthenticated } = this.props;\n        return (\n            <Router>\n                <div className=\"App\">\n                    <ErrorBoundry>\n                        <Navbar isAuthenticated={isAuthenticated} />\n                        <Switch>\n                            <Route exact path=\"/\" component={Main} />\n                            <Route exact path=\"/login\" component={LoginPage} />\n                            <Route exact path=\"/signup\" component={SignUpPage} />\n                            <Route exact path=\"/game/:id\" component={GamePage} />\n                            <Route exact path=\"/cardset/:id\" component={CardSetPage} />\n                            <Route exact path=\"/changelog\" component={ChangelogPage} />\n                            <Route exact path=\"/about\" component={AboutPage} />\n                            <Route component={NotFoundPage} />\n                        </Switch>\n                        <div className=\"App-footer\">Dalius Dobravolskas &copy; {new Date().getFullYear()}</div>\n                    </ErrorBoundry>\n                </div>\n            </Router>\n        );\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    const { auth } = state;\n    const { isAuthenticated } = auth;\n\n    return {\n        isAuthenticated,\n    };\n};\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\ninterface Config {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL((process as { env: { [key: string]: string } }).env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit http://bit.ly/CRA-PWA',\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import './index.css';\n\nimport { Provider } from 'react-redux';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createAppStore } from './store';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createAppStore();\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { applyMiddleware, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport { rootSaga } from './sagas';\nimport reducers from './reducers';\n\nexport function createAppStore() {\n    const sagaMiddleware = createSagaMiddleware();\n    const store = createStore(\n        reducers,\n        // @ts-ignore: __REDUX_DEVTOOLS_EXTENSION__ does not exists on window\n        window.__REDUX_DEVTOOLS_EXTENSION__\n            ? compose(\n                  applyMiddleware(sagaMiddleware),\n                  // @ts-ignore: __REDUX_DEVTOOLS_EXTENSION__ does not exists on window\n                  window.__REDUX_DEVTOOLS_EXTENSION__(),\n              )\n            : applyMiddleware(sagaMiddleware),\n    );\n    sagaMiddleware.run(rootSaga);\n    return store;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fieldcontroller\":\"FieldController_fieldcontroller__3ifWc\",\"fieldcontrolleractiveplaceholder\":\"FieldController_fieldcontrolleractiveplaceholder__3XZOP\",\"fieldcontrolleractive\":\"FieldController_fieldcontrolleractive__3fSLl\",\"controller\":\"FieldController_controller__VCesw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1Ltkv\",\"cardWorkarea\":\"Card_cardWorkarea__3M6m2\",\"disabled\":\"Card_disabled__2Ob5l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fixed\":\"Loader_fixed__3q8O9\",\"relative\":\"Loader_relative__1lapZ\",\"loader\":\"Loader_loader__1ZCGC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Navbar_header__FZp4U\",\"menu\":\"Navbar_menu__1JWvN\",\"messages\":\"Navbar_messages__h_dLG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fontFamily\":\"FontSelector_fontFamily__zlBcJ\",\"fontVariant\":\"FontSelector_fontVariant__2pA4n\"};"],"sourceRoot":""}